<!doctype html><html><head><title>Chroma Style Gallery</title><style>body { font-family: sans-serif; margin: 4em; } h1 { border-bottom: 3px solid red; margin-bottom: 2em; } pre { display: inline-block; margin: 2em; padding: 3em 5em 3em 2em; box-shadow: 5px 5px 5px rgba(68, 68, 68, 0.6); border-radius: 7px; border: 2px solid black;} #stylelink:link { text-decoration: none; color: black; } #stylelink:visited { color: black; } #stylelink:hover { color: #4682B4; } a { color: #1E385B; }</style></head><body><h1>Chroma Style Gallery</h1><a name='abap'><h2><a id='stylelink' href='abap.html' alt='View only abap'>abap</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="color: #0000ff">package</span> <span style="color: #000000">main</span>

<span style="color: #0000ff">import</span> <span class="p">(</span>
    <span style="color: #55aa22">&#34;fmt&#34;</span>
    <span style="color: #55aa22">&#34;math/rand&#34;</span>
    <span style="color: #55aa22">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #0000ff">type</span> <span style="color: #000000">Moo</span> <span style="color: #0000ff">struct</span> <span class="p">{</span>
    <span style="color: #000000">Cow</span>   <span style="color: #0000ff">int</span>
    <span style="color: #000000">Sound</span> <span style="color: #0000ff">string</span>
    <span style="color: #000000">Tube</span>  <span style="color: #0000ff">chan</span> <span style="color: #0000ff">bool</span>
<span class="p">}</span>

<span style="color: #888888; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #888888; font-style: italic"></span><span style="color: #0000ff">func</span> <span style="color: #000000">cow</span><span class="p">(</span><span style="color: #000000">num</span> <span style="color: #0000ff">int</span><span class="p">,</span> <span style="color: #000000">mootube</span> <span style="color: #0000ff">chan</span> <span style="color: #000000">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #000000">tube</span> <span class="o">:=</span> <span style="color: #000000">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #0000ff">bool</span><span class="p">)</span>
    <span style="color: #0000ff">for</span> <span class="p">{</span>
        <span style="color: #0000ff">select</span> <span class="p">{</span>
        <span style="color: #0000ff">case</span> <span style="color: #000000">mootube</span> <span class="o">&lt;-</span> <span style="color: #000000">Moo</span><span class="p">{</span><span style="color: #000000">num</span><span class="p">,</span> <span style="color: #55aa22">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #000000">tube</span><span class="p">}:</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #55aa22">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span style="color: #000000">tube</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #55aa22">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span style="color: #000000">mootube</span> <span class="o">&lt;-</span> <span style="color: #000000">Moo</span><span class="p">{</span><span style="color: #000000">num</span><span class="p">,</span> <span style="color: #55aa22">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #0000ff">nil</span><span class="p">}</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #55aa22">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #0000ff">return</span>
        <span style="color: #0000ff">default</span><span class="p">:</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #55aa22">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Sleep</span><span class="p">(</span><span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Duration</span><span class="p">(</span><span style="color: #000000">rand</span><span class="p">.</span><span style="color: #000000">Int31n</span><span class="p">(</span><span style="color: #33aaff">1000</span><span class="p">))</span> <span class="o">*</span> <span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #888888; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #888888; font-style: italic"></span><span style="color: #0000ff">func</span> <span style="color: #000000">farmer</span><span class="p">(</span><span style="color: #000000">numcows</span> <span style="color: #0000ff">int</span><span class="p">,</span> <span style="color: #000000">mootube</span> <span style="color: #0000ff">chan</span> <span style="color: #000000">Moo</span><span class="p">,</span> <span style="color: #000000">farmertube</span> <span style="color: #0000ff">chan</span> <span style="color: #0000ff">string</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #0000ff">for</span> <span style="color: #000000">hungryCows</span> <span class="o">:=</span> <span style="color: #000000">numcows</span><span class="p">;</span> <span style="color: #000000">hungryCows</span> <span class="p">&gt;</span> <span style="color: #33aaff">0</span><span class="p">;</span> <span class="p">{</span>
        <span style="color: #000000">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span style="color: #000000">mootube</span>
        <span style="color: #0000ff">if</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Sound</span> <span class="o">==</span> <span style="color: #55aa22">&#34;mooh&#34;</span> <span class="p">{</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Cow</span><span class="p">)</span>
            <span style="color: #000000">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #0000ff">else</span> <span class="p">{</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Sound</span><span class="p">,</span> <span style="color: #55aa22">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Cow</span><span class="p">)</span>
            <span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Sleep</span><span class="p">(</span><span style="color: #33aaff">2e9</span><span class="p">)</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Cow</span><span class="p">)</span>
            <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Tube</span> <span class="o">&lt;-</span> <span style="color: #0000ff">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span style="color: #000000">farmertube</span> <span class="o">&lt;-</span> <span style="color: #55aa22">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #888888; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #888888; font-style: italic"></span><span style="color: #0000ff">func</span> <span style="color: #000000">runFarm</span><span class="p">(</span><span style="color: #000000">numcows</span> <span style="color: #0000ff">int</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #000000">farmertube</span> <span class="o">:=</span> <span style="color: #000000">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #0000ff">string</span><span class="p">)</span>
    <span style="color: #000000">mootube</span> <span class="o">:=</span> <span style="color: #000000">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #000000">Moo</span><span class="p">)</span>
    <span style="color: #0000ff">for</span> <span style="color: #000000">cownum</span> <span class="o">:=</span> <span style="color: #33aaff">0</span><span class="p">;</span> <span style="color: #000000">cownum</span> <span class="p">&lt;</span> <span style="color: #000000">numcows</span><span class="p">;</span> <span style="color: #000000">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #0000ff">go</span> <span style="color: #000000">cow</span><span class="p">(</span><span style="color: #000000">cownum</span><span class="p">,</span> <span style="color: #000000">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #0000ff">go</span> <span style="color: #000000">farmer</span><span class="p">(</span><span style="color: #000000">numcows</span><span class="p">,</span> <span style="color: #000000">mootube</span><span class="p">,</span> <span style="color: #000000">farmertube</span><span class="p">)</span>
    <span style="color: #000000">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span style="color: #000000">farmertube</span>
    <span style="color: #0000ff">if</span> <span style="color: #000000">farmerSaid</span> <span class="o">==</span> <span style="color: #55aa22">&#34;yey!&#34;</span> <span class="p">{</span>
        <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #0000ff">func</span> <span style="color: #000000">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #000000">runFarm</span><span class="p">(</span><span style="color: #33aaff">4</span><span class="p">)</span>
    <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='algol'><h2><a id='stylelink' href='algol.html' alt='View only algol'>algol</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="font-weight: bold; text-decoration: underline">package</span> <span class="nx">main</span>

<span style="font-weight: bold; text-decoration: underline">import</span> <span class="p">(</span>
    <span style="color: #666666; font-style: italic">&#34;fmt&#34;</span>
    <span style="color: #666666; font-style: italic">&#34;math/rand&#34;</span>
    <span style="color: #666666; font-style: italic">&#34;time&#34;</span>
<span class="p">)</span>

<span style="font-weight: bold; font-style: italic; text-decoration: underline">type</span> <span class="nx">Moo</span> <span style="font-weight: bold; font-style: italic; text-decoration: underline">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="font-weight: bold; text-decoration: underline">int</span>
    <span class="nx">Sound</span> <span style="font-weight: bold; text-decoration: underline">string</span>
    <span class="nx">Tube</span>  <span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span style="font-weight: bold; text-decoration: underline">bool</span>
<span class="p">}</span>

<span style="color: #888888; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #888888; font-style: italic"></span><span style="font-weight: bold; font-style: italic; text-decoration: underline">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">cow</span><span class="p">(</span><span class="nx">num</span> <span style="font-weight: bold; text-decoration: underline">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span style="font-weight: bold; font-style: italic">make</span><span class="p">(</span><span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span style="font-weight: bold; text-decoration: underline">bool</span><span class="p">)</span>
    <span style="font-weight: bold; text-decoration: underline">for</span> <span class="p">{</span>
        <span style="font-weight: bold; text-decoration: underline">select</span> <span class="p">{</span>
        <span style="font-weight: bold; text-decoration: underline">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;mooh&#34;</span><span class="p">,</span> <span style="font-weight: bold; text-decoration: underline">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="font-weight: bold; text-decoration: underline">return</span>
        <span style="font-weight: bold; text-decoration: underline">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Int31n</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #888888; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #888888; font-style: italic"></span><span style="font-weight: bold; font-style: italic; text-decoration: underline">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="font-weight: bold; text-decoration: underline">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span style="font-weight: bold; text-decoration: underline">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="font-weight: bold; text-decoration: underline">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="font-weight: bold; text-decoration: underline">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #666666; font-style: italic">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="font-weight: bold; text-decoration: underline">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Sleep</span><span class="p">(</span><span class="mf">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="font-weight: bold; text-decoration: underline">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #666666; font-style: italic">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #888888; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #888888; font-style: italic"></span><span style="font-weight: bold; font-style: italic; text-decoration: underline">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="font-weight: bold; text-decoration: underline">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="font-weight: bold; font-style: italic">make</span><span class="p">(</span><span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span style="font-weight: bold; text-decoration: underline">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span style="font-weight: bold; font-style: italic">make</span><span class="p">(</span><span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="font-weight: bold; text-decoration: underline">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="font-weight: bold; text-decoration: underline">go</span> <span style="color: #666666; font-weight: bold; font-style: italic">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="font-weight: bold; text-decoration: underline">go</span> <span style="color: #666666; font-weight: bold; font-style: italic">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="font-weight: bold; text-decoration: underline">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #666666; font-style: italic">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="font-weight: bold; font-style: italic; text-decoration: underline">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #666666; font-weight: bold; font-style: italic">runFarm</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='algol_nu'><h2><a id='stylelink' href='algol_nu.html' alt='View only algol_nu'>algol_nu</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="font-weight: bold">package</span> <span class="nx">main</span>

<span style="font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #666666; font-style: italic">&#34;fmt&#34;</span>
    <span style="color: #666666; font-style: italic">&#34;math/rand&#34;</span>
    <span style="color: #666666; font-style: italic">&#34;time&#34;</span>
<span class="p">)</span>

<span style="font-weight: bold; font-style: italic">type</span> <span class="nx">Moo</span> <span style="font-weight: bold; font-style: italic">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="font-weight: bold; font-style: italic">chan</span> <span style="font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #888888; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #888888; font-style: italic"></span><span style="font-weight: bold; font-style: italic">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">cow</span><span class="p">(</span><span class="nx">num</span> <span style="font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold; font-style: italic">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span style="font-weight: bold; font-style: italic">make</span><span class="p">(</span><span style="font-weight: bold; font-style: italic">chan</span> <span style="font-weight: bold">bool</span><span class="p">)</span>
    <span style="font-weight: bold">for</span> <span class="p">{</span>
        <span style="font-weight: bold">select</span> <span class="p">{</span>
        <span style="font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;mooh&#34;</span><span class="p">,</span> <span style="font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="font-weight: bold">return</span>
        <span style="font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Int31n</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #888888; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #888888; font-style: italic"></span><span style="font-weight: bold; font-style: italic">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold; font-style: italic">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="font-weight: bold; font-style: italic">chan</span> <span style="font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #666666; font-style: italic">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Sleep</span><span class="p">(</span><span class="mf">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #666666; font-style: italic">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #888888; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #888888; font-style: italic"></span><span style="font-weight: bold; font-style: italic">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="font-weight: bold; font-style: italic">make</span><span class="p">(</span><span style="font-weight: bold; font-style: italic">chan</span> <span style="font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span style="font-weight: bold; font-style: italic">make</span><span class="p">(</span><span style="font-weight: bold; font-style: italic">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="font-weight: bold">go</span> <span style="color: #666666; font-weight: bold; font-style: italic">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="font-weight: bold">go</span> <span style="color: #666666; font-weight: bold; font-style: italic">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #666666; font-style: italic">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="font-weight: bold; font-style: italic">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #666666; font-weight: bold; font-style: italic">runFarm</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='api'><h2><a id='stylelink' href='api.html' alt='View only api'>api</a></h2></a><code><pre style="color: #e5e5e5; background-color: #000000" class="chroma">
<span style="color: #ffffff; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #ffffff; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #00ffff; font-weight: bold">&#34;fmt&#34;</span>
    <span style="color: #00ffff; font-weight: bold">&#34;math/rand&#34;</span>
    <span style="color: #00ffff; font-weight: bold">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #ffffff; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #ffffff; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #ffffff; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #ffffff; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #ffffff; font-weight: bold">chan</span> <span style="color: #ffffff; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #007f7f">// A cow will moo until it is being fed
</span><span style="color: #007f7f"></span><span style="color: #ffffff; font-weight: bold">func</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #ffffff; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ffffff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #ffffff; font-weight: bold">make</span><span class="p">(</span><span style="color: #ffffff; font-weight: bold">chan</span> <span style="color: #ffffff; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #ffffff; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #ffffff; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #ffffff; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #ffffff; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #ffffff; font-weight: bold">return</span>
        <span style="color: #ffffff; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Int31n</span><span class="p">(</span><span style="color: #ffff00; font-weight: bold">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #007f7f">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #007f7f"></span><span style="color: #ffffff; font-weight: bold">func</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #ffffff; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ffffff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #ffffff; font-weight: bold">chan</span> <span style="color: #ffffff; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #ffffff; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #ffff00; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #ffffff; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #00ffff; font-weight: bold">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #ffffff; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span style="color: #ffff00; font-weight: bold">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #ffffff; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #00ffff; font-weight: bold">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #007f7f">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #007f7f"></span><span style="color: #ffffff; font-weight: bold">func</span> <span class="nf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #ffffff; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #ffffff; font-weight: bold">make</span><span class="p">(</span><span style="color: #ffffff; font-weight: bold">chan</span> <span style="color: #ffffff; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #ffffff; font-weight: bold">make</span><span class="p">(</span><span style="color: #ffffff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #ffffff; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #ffff00; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #ffffff; font-weight: bold">go</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #ffffff; font-weight: bold">go</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #ffffff; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #00ffff; font-weight: bold">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #ffffff; font-weight: bold">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">runFarm</span><span class="p">(</span><span style="color: #ffff00; font-weight: bold">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='arduino'><h2><a id='stylelink' href='arduino.html' alt='View only arduino'>arduino</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="color: #728e00">package</span> <span style="color: #728e00">main</span>

<span style="color: #728e00">import</span> <span class="p">(</span>
    <span style="color: #7f8c8d">&#34;fmt&#34;</span>
    <span style="color: #7f8c8d">&#34;math/rand&#34;</span>
    <span style="color: #7f8c8d">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #728e00">type</span> <span style="color: #728e00">Moo</span> <span style="color: #728e00">struct</span> <span class="p">{</span>
    <span style="color: #728e00">Cow</span>   <span style="color: #00979d">int</span>
    <span style="color: #728e00">Sound</span> <span style="color: #00979d">string</span>
    <span style="color: #728e00">Tube</span>  <span style="color: #728e00">chan</span> <span style="color: #00979d">bool</span>
<span class="p">}</span>

<span style="color: #95a5a6">// A cow will moo until it is being fed
</span><span style="color: #95a5a6"></span><span style="color: #728e00">func</span> <span style="color: #d35400">cow</span><span class="p">(</span><span style="color: #728e00">num</span> <span style="color: #00979d">int</span><span class="p">,</span> <span style="color: #728e00">mootube</span> <span style="color: #728e00">chan</span> <span style="color: #728e00">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #728e00">tube</span> <span style="color: #728e00">:=</span> <span style="color: #728e00">make</span><span class="p">(</span><span style="color: #728e00">chan</span> <span style="color: #00979d">bool</span><span class="p">)</span>
    <span style="color: #728e00">for</span> <span class="p">{</span>
        <span style="color: #728e00">select</span> <span class="p">{</span>
        <span style="color: #728e00">case</span> <span style="color: #728e00">mootube</span> <span style="color: #728e00">&lt;-</span> <span style="color: #728e00">Moo</span><span class="p">{</span><span style="color: #728e00">num</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #728e00">tube</span><span class="p">}:</span>
            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">num</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #728e00">&lt;-</span><span style="color: #728e00">tube</span>
            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">num</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span style="color: #728e00">mootube</span> <span style="color: #728e00">&lt;-</span> <span style="color: #728e00">Moo</span><span class="p">{</span><span style="color: #728e00">num</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #00979d">nil</span><span class="p">}</span>
            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">num</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #728e00">return</span>
        <span style="color: #728e00">default</span><span class="p">:</span>
            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">num</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span style="color: #728e00">time</span><span class="p">.</span><span style="color: #d35400">Sleep</span><span class="p">(</span><span style="color: #728e00">time</span><span class="p">.</span><span style="color: #d35400">Duration</span><span class="p">(</span><span style="color: #728e00">rand</span><span class="p">.</span><span style="color: #d35400">Int31n</span><span class="p">(</span><span style="color: #8a7b52">1000</span><span class="p">))</span> <span style="color: #728e00">*</span> <span style="color: #728e00">time</span><span class="p">.</span><span style="color: #728e00">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #95a5a6">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #95a5a6"></span><span style="color: #728e00">func</span> <span style="color: #d35400">farmer</span><span class="p">(</span><span style="color: #728e00">numcows</span> <span style="color: #00979d">int</span><span class="p">,</span> <span style="color: #728e00">mootube</span> <span style="color: #728e00">chan</span> <span style="color: #728e00">Moo</span><span class="p">,</span> <span style="color: #728e00">farmertube</span> <span style="color: #728e00">chan</span> <span style="color: #00979d">string</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #728e00">for</span> <span style="color: #728e00">hungryCows</span> <span style="color: #728e00">:=</span> <span style="color: #728e00">numcows</span><span class="p">;</span> <span style="color: #728e00">hungryCows</span> <span class="p">&gt;</span> <span style="color: #8a7b52">0</span><span class="p">;</span> <span class="p">{</span>
        <span style="color: #728e00">moo</span> <span style="color: #728e00">:=</span> <span style="color: #728e00">&lt;-</span><span style="color: #728e00">mootube</span>
        <span style="color: #728e00">if</span> <span style="color: #728e00">moo</span><span class="p">.</span><span style="color: #728e00">Sound</span> <span style="color: #728e00">==</span> <span style="color: #7f8c8d">&#34;mooh&#34;</span> <span class="p">{</span>
            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">moo</span><span class="p">.</span><span style="color: #728e00">Cow</span><span class="p">)</span>
            <span style="color: #728e00">hungryCows</span><span style="color: #728e00">--</span>
        <span class="p">}</span> <span style="color: #728e00">else</span> <span class="p">{</span>
            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #728e00">moo</span><span class="p">.</span><span style="color: #728e00">Sound</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">moo</span><span class="p">.</span><span style="color: #728e00">Cow</span><span class="p">)</span>
            <span style="color: #728e00">time</span><span class="p">.</span><span style="color: #d35400">Sleep</span><span class="p">(</span><span style="color: #8a7b52">2e9</span><span class="p">)</span>
            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">moo</span><span class="p">.</span><span style="color: #728e00">Cow</span><span class="p">)</span>
            <span style="color: #728e00">moo</span><span class="p">.</span><span style="color: #728e00">Tube</span> <span style="color: #728e00">&lt;-</span> <span style="color: #00979d">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span style="color: #728e00">farmertube</span> <span style="color: #728e00">&lt;-</span> <span style="color: #7f8c8d">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #95a5a6">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #95a5a6"></span><span style="color: #728e00">func</span> <span style="color: #d35400">runFarm</span><span class="p">(</span><span style="color: #728e00">numcows</span> <span style="color: #00979d">int</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #728e00">farmertube</span> <span style="color: #728e00">:=</span> <span style="color: #728e00">make</span><span class="p">(</span><span style="color: #728e00">chan</span> <span style="color: #00979d">string</span><span class="p">)</span>
    <span style="color: #728e00">mootube</span> <span style="color: #728e00">:=</span> <span style="color: #728e00">make</span><span class="p">(</span><span style="color: #728e00">chan</span> <span style="color: #728e00">Moo</span><span class="p">)</span>
    <span style="color: #728e00">for</span> <span style="color: #728e00">cownum</span> <span style="color: #728e00">:=</span> <span style="color: #8a7b52">0</span><span class="p">;</span> <span style="color: #728e00">cownum</span> <span class="p">&lt;</span> <span style="color: #728e00">numcows</span><span class="p">;</span> <span style="color: #728e00">cownum</span><span style="color: #728e00">++</span> <span class="p">{</span>
        <span style="color: #728e00">go</span> <span style="color: #d35400">cow</span><span class="p">(</span><span style="color: #728e00">cownum</span><span class="p">,</span> <span style="color: #728e00">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #728e00">go</span> <span style="color: #d35400">farmer</span><span class="p">(</span><span style="color: #728e00">numcows</span><span class="p">,</span> <span style="color: #728e00">mootube</span><span class="p">,</span> <span style="color: #728e00">farmertube</span><span class="p">)</span>
    <span style="color: #728e00">farmerSaid</span> <span style="color: #728e00">:=</span> <span style="color: #728e00">&lt;-</span><span style="color: #728e00">farmertube</span>
    <span style="color: #728e00">if</span> <span style="color: #728e00">farmerSaid</span> <span style="color: #728e00">==</span> <span style="color: #7f8c8d">&#34;yey!&#34;</span> <span class="p">{</span>
        <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #728e00">func</span> <span style="color: #d35400">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #d35400">runFarm</span><span class="p">(</span><span style="color: #8a7b52">4</span><span class="p">)</span>
    <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='autumn'><h2><a id='stylelink' href='autumn.html' alt='View only autumn'>autumn</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="color: #0000aa">package</span> <span class="nx">main</span>

<span style="color: #0000aa">import</span> <span class="p">(</span>
    <span style="color: #aa5500">&#34;fmt&#34;</span>
    <span style="color: #aa5500">&#34;math/rand&#34;</span>
    <span style="color: #aa5500">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #0000aa">type</span> <span class="nx">Moo</span> <span style="color: #0000aa">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #00aaaa">int</span>
    <span class="nx">Sound</span> <span style="color: #00aaaa">string</span>
    <span class="nx">Tube</span>  <span style="color: #0000aa">chan</span> <span style="color: #00aaaa">bool</span>
<span class="p">}</span>

<span style="color: #aaaaaa; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #aaaaaa; font-style: italic"></span><span style="color: #0000aa">func</span> <span style="color: #00aa00">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #00aaaa">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0000aa">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #00aaaa">make</span><span class="p">(</span><span style="color: #0000aa">chan</span> <span style="color: #00aaaa">bool</span><span class="p">)</span>
    <span style="color: #0000aa">for</span> <span class="p">{</span>
        <span style="color: #0000aa">select</span> <span class="p">{</span>
        <span style="color: #0000aa">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #aa5500">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #aa5500">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #aa5500">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #aa5500">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #0000aa">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #aa5500">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #0000aa">return</span>
        <span style="color: #0000aa">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #aa5500">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #00aa00">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #00aa00">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #00aa00">Int31n</span><span class="p">(</span><span style="color: #009999">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #aaaaaa; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #aaaaaa; font-style: italic"></span><span style="color: #0000aa">func</span> <span style="color: #00aa00">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00aaaa">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0000aa">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #0000aa">chan</span> <span style="color: #00aaaa">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #0000aa">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #009999">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #0000aa">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #aa5500">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #0000aa">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #aa5500">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #00aa00">Sleep</span><span class="p">(</span><span style="color: #009999">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #0000aa">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #aa5500">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #aaaaaa; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #aaaaaa; font-style: italic"></span><span style="color: #0000aa">func</span> <span style="color: #00aa00">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00aaaa">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #00aaaa">make</span><span class="p">(</span><span style="color: #0000aa">chan</span> <span style="color: #00aaaa">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #00aaaa">make</span><span class="p">(</span><span style="color: #0000aa">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #0000aa">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #009999">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #0000aa">go</span> <span style="color: #00aa00">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #0000aa">go</span> <span style="color: #00aa00">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #0000aa">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #aa5500">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #0000aa">func</span> <span style="color: #00aa00">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #00aa00">runFarm</span><span class="p">(</span><span style="color: #009999">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='borland'><h2><a id='stylelink' href='borland.html' alt='View only borland'>borland</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="color: #000080; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #000080; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #0000ff">&#34;fmt&#34;</span>
    <span style="color: #0000ff">&#34;math/rand&#34;</span>
    <span style="color: #0000ff">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #000080; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #000080; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #000080; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #000080; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #000080; font-weight: bold">chan</span> <span style="color: #000080; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #008800; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #008800; font-style: italic"></span><span style="color: #000080; font-weight: bold">func</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #000080; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #000080; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #000080; font-weight: bold">chan</span> <span style="color: #000080; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #000080; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #000080; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #000080; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #0000ff">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0000ff">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0000ff">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #0000ff">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #000080; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0000ff">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #000080; font-weight: bold">return</span>
        <span style="color: #000080; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0000ff">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Int31n</span><span class="p">(</span><span style="color: #0000ff">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #008800; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #008800; font-style: italic"></span><span style="color: #000080; font-weight: bold">func</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #000080; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #000080; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #000080; font-weight: bold">chan</span> <span style="color: #000080; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #000080; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #0000ff">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #000080; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #0000ff">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #000080; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #0000ff">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span style="color: #0000ff">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #000080; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #0000ff">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #008800; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #008800; font-style: italic"></span><span style="color: #000080; font-weight: bold">func</span> <span class="nf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #000080; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #000080; font-weight: bold">chan</span> <span style="color: #000080; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #000080; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #000080; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #0000ff">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #000080; font-weight: bold">go</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #000080; font-weight: bold">go</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #000080; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #0000ff">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #000080; font-weight: bold">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">runFarm</span><span class="p">(</span><span style="color: #0000ff">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='bw'><h2><a id='stylelink' href='bw.html' alt='View only bw'>bw</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="font-weight: bold">package</span> <span class="nx">main</span>

<span style="font-weight: bold">import</span> <span class="p">(</span>
    <span style="font-style: italic">&#34;fmt&#34;</span>
    <span style="font-style: italic">&#34;math/rand&#34;</span>
    <span style="font-style: italic">&#34;time&#34;</span>
<span class="p">)</span>

<span style="font-weight: bold">type</span> <span class="nx">Moo</span> <span style="font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="">int</span>
    <span class="nx">Sound</span> <span style="">string</span>
    <span class="nx">Tube</span>  <span style="font-weight: bold">chan</span> <span style="">bool</span>
<span class="p">}</span>

<span style="font-style: italic">// A cow will moo until it is being fed
</span><span style="font-style: italic"></span><span style="font-weight: bold">func</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="font-weight: bold">chan</span> <span style="">bool</span><span class="p">)</span>
    <span style="font-weight: bold">for</span> <span class="p">{</span>
        <span style="font-weight: bold">select</span> <span class="p">{</span>
        <span style="font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="font-style: italic">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="font-style: italic">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="font-style: italic">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="font-style: italic">&#34;mooh&#34;</span><span class="p">,</span> <span style="font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="font-style: italic">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="font-weight: bold">return</span>
        <span style="font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="font-style: italic">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Int31n</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="font-style: italic"></span><span style="font-weight: bold">func</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="font-weight: bold">chan</span> <span style="">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="font-style: italic">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="font-style: italic">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mf">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="font-style: italic">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="font-style: italic"></span><span style="font-weight: bold">func</span> <span class="nf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="font-weight: bold">chan</span> <span style="">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="font-weight: bold">go</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="font-weight: bold">go</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="font-style: italic">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="font-weight: bold">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">runFarm</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='colorful'><h2><a id='stylelink' href='colorful.html' alt='View only colorful'>colorful</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="color: #008800; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #008800; font-weight: bold">import</span> <span class="p">(</span>
    <span style="background-color: #fff0f0">&#34;fmt&#34;</span>
    <span style="background-color: #fff0f0">&#34;math/rand&#34;</span>
    <span style="background-color: #fff0f0">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #008800; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #008800; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #333399; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #333399; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #008800; font-weight: bold">chan</span> <span style="color: #333399; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #888888">// A cow will moo until it is being fed
</span><span style="color: #888888"></span><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #333399; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #008800; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span style="color: #333333">:=</span> <span style="color: #007020">make</span><span class="p">(</span><span style="color: #008800; font-weight: bold">chan</span> <span style="color: #333399; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #008800; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #008800; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #008800; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #333333">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #333333">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span style="color: #333333">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #008800; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #008800; font-weight: bold">return</span>
        <span style="color: #008800; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #0000dd; font-weight: bold">1000</span><span class="p">))</span> <span style="color: #333333">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #888888">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #888888"></span><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #333399; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #008800; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #008800; font-weight: bold">chan</span> <span style="color: #333399; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #008800; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #333333">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #0000dd; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span style="color: #333333">:=</span> <span style="color: #333333">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #008800; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span style="color: #333333">--</span>
        <span class="p">}</span> <span style="color: #008800; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #6600ee; font-weight: bold">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #333333">&lt;-</span> <span style="color: #008800; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span style="color: #333333">&lt;-</span> <span style="background-color: #fff0f0">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #888888">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #888888"></span><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #333399; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span style="color: #333333">:=</span> <span style="color: #007020">make</span><span class="p">(</span><span style="color: #008800; font-weight: bold">chan</span> <span style="color: #333399; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span style="color: #333333">:=</span> <span style="color: #007020">make</span><span class="p">(</span><span style="color: #008800; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #008800; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #333333">:=</span> <span style="color: #0000dd; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #333333">++</span> <span class="p">{</span>
        <span style="color: #008800; font-weight: bold">go</span> <span style="color: #0066bb; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #008800; font-weight: bold">go</span> <span style="color: #0066bb; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span style="color: #333333">:=</span> <span style="color: #333333">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #008800; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #0066bb; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #0000dd; font-weight: bold">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='dracula'><h2><a id='stylelink' href='dracula.html' alt='View only dracula'>dracula</a></h2></a><code><pre style="color: #f8f8f2; background-color: #282a36" class="chroma">
<span style="color: #ff79c6">package</span> <span class="nx">main</span>

<span style="color: #ff79c6">import</span> <span class="p">(</span>
    <span style="color: #f1fa8c">&#34;fmt&#34;</span>
    <span style="color: #f1fa8c">&#34;math/rand&#34;</span>
    <span style="color: #f1fa8c">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #8be9fd; font-style: italic">type</span> <span class="nx">Moo</span> <span style="color: #8be9fd; font-style: italic">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #8be9fd">int</span>
    <span class="nx">Sound</span> <span style="color: #8be9fd">string</span>
    <span class="nx">Tube</span>  <span style="color: #8be9fd; font-style: italic">chan</span> <span style="color: #8be9fd">bool</span>
<span class="p">}</span>

<span style="color: #6272a4">// A cow will moo until it is being fed
</span><span style="color: #6272a4"></span><span style="color: #8be9fd; font-style: italic">func</span> <span style="color: #50fa7b">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #8be9fd">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #8be9fd; font-style: italic">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span style="color: #ff79c6">:=</span> <span style="color: #8be9fd; font-style: italic">make</span><span class="p">(</span><span style="color: #8be9fd; font-style: italic">chan</span> <span style="color: #8be9fd">bool</span><span class="p">)</span>
    <span style="color: #ff79c6">for</span> <span class="p">{</span>
        <span style="color: #ff79c6">select</span> <span class="p">{</span>
        <span style="color: #ff79c6">case</span> <span class="nx">mootube</span> <span style="color: #ff79c6">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #ff79c6">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span style="color: #ff79c6">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #ff79c6">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #ff79c6">return</span>
        <span style="color: #ff79c6">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #50fa7b">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #50fa7b">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #50fa7b">Int31n</span><span class="p">(</span><span style="color: #bd93f9">1000</span><span class="p">))</span> <span style="color: #ff79c6">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #6272a4">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #6272a4"></span><span style="color: #8be9fd; font-style: italic">func</span> <span style="color: #50fa7b">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #8be9fd">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #8be9fd; font-style: italic">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #8be9fd; font-style: italic">chan</span> <span style="color: #8be9fd">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #ff79c6">for</span> <span class="nx">hungryCows</span> <span style="color: #ff79c6">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #bd93f9">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span style="color: #ff79c6">:=</span> <span style="color: #ff79c6">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #ff79c6">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #ff79c6">==</span> <span style="color: #f1fa8c">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span style="color: #ff79c6">--</span>
        <span class="p">}</span> <span style="color: #ff79c6">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #50fa7b">Sleep</span><span class="p">(</span><span style="color: #bd93f9">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #ff79c6">&lt;-</span> <span style="color: #ff79c6">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span style="color: #ff79c6">&lt;-</span> <span style="color: #f1fa8c">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #6272a4">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #6272a4"></span><span style="color: #8be9fd; font-style: italic">func</span> <span style="color: #50fa7b">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #8be9fd">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span style="color: #ff79c6">:=</span> <span style="color: #8be9fd; font-style: italic">make</span><span class="p">(</span><span style="color: #8be9fd; font-style: italic">chan</span> <span style="color: #8be9fd">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span style="color: #ff79c6">:=</span> <span style="color: #8be9fd; font-style: italic">make</span><span class="p">(</span><span style="color: #8be9fd; font-style: italic">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #ff79c6">for</span> <span class="nx">cownum</span> <span style="color: #ff79c6">:=</span> <span style="color: #bd93f9">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #ff79c6">++</span> <span class="p">{</span>
        <span style="color: #ff79c6">go</span> <span style="color: #50fa7b">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #ff79c6">go</span> <span style="color: #50fa7b">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span style="color: #ff79c6">:=</span> <span style="color: #ff79c6">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #ff79c6">if</span> <span class="nx">farmerSaid</span> <span style="color: #ff79c6">==</span> <span style="color: #f1fa8c">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #8be9fd; font-style: italic">func</span> <span style="color: #50fa7b">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #50fa7b">runFarm</span><span class="p">(</span><span style="color: #bd93f9">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='emacs'><h2><a id='stylelink' href='emacs.html' alt='View only emacs'>emacs</a></h2></a><code><pre style="background-color: #f8f8f8" class="chroma">
<span style="color: #aa22ff; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #aa22ff; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #bb4444">&#34;fmt&#34;</span>
    <span style="color: #bb4444">&#34;math/rand&#34;</span>
    <span style="color: #bb4444">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #aa22ff; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #aa22ff; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #00bb00; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #00bb00; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #aa22ff; font-weight: bold">chan</span> <span style="color: #00bb00; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #008800; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #008800; font-style: italic"></span><span style="color: #aa22ff; font-weight: bold">func</span> <span style="color: #00a000">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #00bb00; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #aa22ff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span style="color: #666666">:=</span> <span style="color: #aa22ff">make</span><span class="p">(</span><span style="color: #aa22ff; font-weight: bold">chan</span> <span style="color: #00bb00; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #aa22ff; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #aa22ff; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #aa22ff; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #bb4444">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb4444">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #666666">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb4444">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #bb4444">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #aa22ff; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb4444">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #aa22ff; font-weight: bold">return</span>
        <span style="color: #aa22ff; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb4444">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #00a000">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #00a000">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #00a000">Int31n</span><span class="p">(</span><span style="color: #666666">1000</span><span class="p">))</span> <span style="color: #666666">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #008800; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #008800; font-style: italic"></span><span style="color: #aa22ff; font-weight: bold">func</span> <span style="color: #00a000">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00bb00; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #aa22ff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #aa22ff; font-weight: bold">chan</span> <span style="color: #00bb00; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #aa22ff; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #666666">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #666666">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #aa22ff; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #666666">==</span> <span style="color: #bb4444">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span style="color: #666666">--</span>
        <span class="p">}</span> <span style="color: #aa22ff; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #bb4444">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #00a000">Sleep</span><span class="p">(</span><span style="color: #666666">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #666666">&lt;-</span> <span style="color: #aa22ff; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span style="color: #666666">&lt;-</span> <span style="color: #bb4444">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #008800; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #008800; font-style: italic"></span><span style="color: #aa22ff; font-weight: bold">func</span> <span style="color: #00a000">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00bb00; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span style="color: #666666">:=</span> <span style="color: #aa22ff">make</span><span class="p">(</span><span style="color: #aa22ff; font-weight: bold">chan</span> <span style="color: #00bb00; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span style="color: #666666">:=</span> <span style="color: #aa22ff">make</span><span class="p">(</span><span style="color: #aa22ff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #aa22ff; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #666666">:=</span> <span style="color: #666666">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #666666">++</span> <span class="p">{</span>
        <span style="color: #aa22ff; font-weight: bold">go</span> <span style="color: #00a000">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #aa22ff; font-weight: bold">go</span> <span style="color: #00a000">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #aa22ff; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #666666">==</span> <span style="color: #bb4444">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #aa22ff; font-weight: bold">func</span> <span style="color: #00a000">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #00a000">runFarm</span><span class="p">(</span><span style="color: #666666">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='friendly'><h2><a id='stylelink' href='friendly.html' alt='View only friendly'>friendly</a></h2></a><code><pre style="background-color: #f0f0f0" class="chroma">
<span style="color: #007020; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #007020; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #4070a0">&#34;fmt&#34;</span>
    <span style="color: #4070a0">&#34;math/rand&#34;</span>
    <span style="color: #4070a0">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #007020; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #007020; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #902000">int</span>
    <span class="nx">Sound</span> <span style="color: #902000">string</span>
    <span class="nx">Tube</span>  <span style="color: #007020; font-weight: bold">chan</span> <span style="color: #902000">bool</span>
<span class="p">}</span>

<span style="color: #60a0b0; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #60a0b0; font-style: italic"></span><span style="color: #007020; font-weight: bold">func</span> <span style="color: #06287e">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #902000">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #007020; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span style="color: #666666">:=</span> <span style="color: #007020">make</span><span class="p">(</span><span style="color: #007020; font-weight: bold">chan</span> <span style="color: #902000">bool</span><span class="p">)</span>
    <span style="color: #007020; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #007020; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #007020; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #4070a0">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #4070a0">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #666666">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #4070a0">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #4070a0">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #007020; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #4070a0">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #007020; font-weight: bold">return</span>
        <span style="color: #007020; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #4070a0">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #06287e">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #06287e">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #06287e">Int31n</span><span class="p">(</span><span style="color: #40a070">1000</span><span class="p">))</span> <span style="color: #666666">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #60a0b0; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #60a0b0; font-style: italic"></span><span style="color: #007020; font-weight: bold">func</span> <span style="color: #06287e">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #902000">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #007020; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #007020; font-weight: bold">chan</span> <span style="color: #902000">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #007020; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #666666">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #40a070">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #007020; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #666666">==</span> <span style="color: #4070a0">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span style="color: #666666">--</span>
        <span class="p">}</span> <span style="color: #007020; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #4070a0">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #06287e">Sleep</span><span class="p">(</span><span style="color: #40a070">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #666666">&lt;-</span> <span style="color: #007020; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span style="color: #666666">&lt;-</span> <span style="color: #4070a0">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #60a0b0; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #60a0b0; font-style: italic"></span><span style="color: #007020; font-weight: bold">func</span> <span style="color: #06287e">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #902000">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span style="color: #666666">:=</span> <span style="color: #007020">make</span><span class="p">(</span><span style="color: #007020; font-weight: bold">chan</span> <span style="color: #902000">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span style="color: #666666">:=</span> <span style="color: #007020">make</span><span class="p">(</span><span style="color: #007020; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #007020; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #666666">:=</span> <span style="color: #40a070">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #666666">++</span> <span class="p">{</span>
        <span style="color: #007020; font-weight: bold">go</span> <span style="color: #06287e">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #007020; font-weight: bold">go</span> <span style="color: #06287e">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #007020; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #666666">==</span> <span style="color: #4070a0">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #007020; font-weight: bold">func</span> <span style="color: #06287e">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #06287e">runFarm</span><span class="p">(</span><span style="color: #40a070">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='fruity'><h2><a id='stylelink' href='fruity.html' alt='View only fruity'>fruity</a></h2></a><code><pre style="color: #ffffff; background-color: #111111" class="chroma">
<span style="color: #fb660a; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #fb660a; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #0086d2">&#34;fmt&#34;</span>
    <span style="color: #0086d2">&#34;math/rand&#34;</span>
    <span style="color: #0086d2">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #fb660a; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #fb660a; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #cdcaa9; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #cdcaa9; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #fb660a; font-weight: bold">chan</span> <span style="color: #cdcaa9; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #008800; background-color: #0f140f; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #008800; background-color: #0f140f; font-style: italic"></span><span style="color: #fb660a; font-weight: bold">func</span> <span style="color: #ff0086; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #cdcaa9; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #fb660a; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #fb660a; font-weight: bold">chan</span> <span style="color: #cdcaa9; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #fb660a; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #fb660a; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #fb660a; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #0086d2">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0086d2">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0086d2">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #0086d2">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #fb660a; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0086d2">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #fb660a; font-weight: bold">return</span>
        <span style="color: #fb660a; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0086d2">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #0086f7; font-weight: bold">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #008800; background-color: #0f140f; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #008800; background-color: #0f140f; font-style: italic"></span><span style="color: #fb660a; font-weight: bold">func</span> <span style="color: #ff0086; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #cdcaa9; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #fb660a; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #fb660a; font-weight: bold">chan</span> <span style="color: #cdcaa9; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #fb660a; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #0086f7; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #fb660a; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #0086d2">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #fb660a; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #0086d2">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #0086f7; font-weight: bold">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #fb660a; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #0086d2">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #008800; background-color: #0f140f; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #008800; background-color: #0f140f; font-style: italic"></span><span style="color: #fb660a; font-weight: bold">func</span> <span style="color: #ff0086; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #cdcaa9; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #fb660a; font-weight: bold">chan</span> <span style="color: #cdcaa9; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #fb660a; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #fb660a; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #0086f7; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #fb660a; font-weight: bold">go</span> <span style="color: #ff0086; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #fb660a; font-weight: bold">go</span> <span style="color: #ff0086; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #fb660a; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #0086d2">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #fb660a; font-weight: bold">func</span> <span style="color: #ff0086; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #ff0086; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #0086f7; font-weight: bold">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='github'><h2><a id='stylelink' href='github.html' alt='View only github'>github</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="color: #000000; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #000000; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #dd1144">&#34;fmt&#34;</span>
    <span style="color: #dd1144">&#34;math/rand&#34;</span>
    <span style="color: #dd1144">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #000000; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #000000; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #445588; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #445588; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #000000; font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #999988; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #999988; font-style: italic"></span><span style="color: #000000; font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #445588; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #000000; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span style="color: #000000; font-weight: bold">:=</span> <span style="color: #0086b3">make</span><span class="p">(</span><span style="color: #000000; font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #000000; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #000000; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #000000; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #000000; font-weight: bold">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #dd1144">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd1144">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #000000; font-weight: bold">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd1144">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span style="color: #000000; font-weight: bold">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #dd1144">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #000000; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd1144">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #000000; font-weight: bold">return</span>
        <span style="color: #000000; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd1144">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #009999">1000</span><span class="p">))</span> <span style="color: #000000; font-weight: bold">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #999988; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #999988; font-style: italic"></span><span style="color: #000000; font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #445588; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #000000; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #000000; font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #000000; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #000000; font-weight: bold">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #009999">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span style="color: #000000; font-weight: bold">:=</span> <span style="color: #000000; font-weight: bold">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #000000; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #000000; font-weight: bold">==</span> <span style="color: #dd1144">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span style="color: #000000; font-weight: bold">--</span>
        <span class="p">}</span> <span style="color: #000000; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #dd1144">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #009999">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #000000; font-weight: bold">&lt;-</span> <span style="color: #000000; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span style="color: #000000; font-weight: bold">&lt;-</span> <span style="color: #dd1144">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #999988; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #999988; font-style: italic"></span><span style="color: #000000; font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #445588; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span style="color: #000000; font-weight: bold">:=</span> <span style="color: #0086b3">make</span><span class="p">(</span><span style="color: #000000; font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span style="color: #000000; font-weight: bold">:=</span> <span style="color: #0086b3">make</span><span class="p">(</span><span style="color: #000000; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #000000; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #000000; font-weight: bold">:=</span> <span style="color: #009999">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #000000; font-weight: bold">++</span> <span class="p">{</span>
        <span style="color: #000000; font-weight: bold">go</span> <span style="color: #990000; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #000000; font-weight: bold">go</span> <span style="color: #990000; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span style="color: #000000; font-weight: bold">:=</span> <span style="color: #000000; font-weight: bold">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #000000; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #000000; font-weight: bold">==</span> <span style="color: #dd1144">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #000000; font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #990000; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #009999">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='igor'><h2><a id='stylelink' href='igor.html' alt='View only igor'>igor</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="color: #0000ff">package</span> <span class="nx">main</span>

<span style="color: #0000ff">import</span> <span class="p">(</span>
    <span style="color: #009c00">&#34;fmt&#34;</span>
    <span style="color: #009c00">&#34;math/rand&#34;</span>
    <span style="color: #009c00">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #0000ff">type</span> <span class="nx">Moo</span> <span style="color: #0000ff">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #0000ff">int</span>
    <span class="nx">Sound</span> <span style="color: #0000ff">string</span>
    <span class="nx">Tube</span>  <span style="color: #0000ff">chan</span> <span style="color: #0000ff">bool</span>
<span class="p">}</span>

<span style="color: #ff0000; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #ff0000; font-style: italic"></span><span style="color: #0000ff">func</span> <span style="color: #c34e00">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #0000ff">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0000ff">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #0000ff">bool</span><span class="p">)</span>
    <span style="color: #0000ff">for</span> <span class="p">{</span>
        <span style="color: #0000ff">select</span> <span class="p">{</span>
        <span style="color: #0000ff">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #009c00">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #009c00">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #009c00">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #009c00">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #0000ff">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #009c00">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #0000ff">return</span>
        <span style="color: #0000ff">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #009c00">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #c34e00">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #c34e00">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #c34e00">Int31n</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #ff0000; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #ff0000; font-style: italic"></span><span style="color: #0000ff">func</span> <span style="color: #c34e00">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #0000ff">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0000ff">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #0000ff">chan</span> <span style="color: #0000ff">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #0000ff">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #0000ff">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #009c00">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #0000ff">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #009c00">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #c34e00">Sleep</span><span class="p">(</span><span class="mf">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #0000ff">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #009c00">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #ff0000; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #ff0000; font-style: italic"></span><span style="color: #0000ff">func</span> <span style="color: #c34e00">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #0000ff">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #0000ff">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #0000ff">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #0000ff">go</span> <span style="color: #c34e00">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #0000ff">go</span> <span style="color: #c34e00">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #0000ff">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #009c00">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #0000ff">func</span> <span style="color: #c34e00">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #c34e00">runFarm</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='lovelace'><h2><a id='stylelink' href='lovelace.html' alt='View only lovelace'>lovelace</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="color: #2838b0">package</span> <span class="nx">main</span>

<span style="color: #2838b0">import</span> <span style="color: #888888">(</span>
    <span style="color: #b83838">&#34;fmt&#34;</span>
    <span style="color: #b83838">&#34;math/rand&#34;</span>
    <span style="color: #b83838">&#34;time&#34;</span>
<span style="color: #888888">)</span>

<span style="color: #2838b0; font-style: italic">type</span> <span class="nx">Moo</span> <span style="color: #2838b0; font-style: italic">struct</span> <span style="color: #888888">{</span>
    <span class="nx">Cow</span>   <span style="color: #2838b0; font-style: italic">int</span>
    <span class="nx">Sound</span> <span style="color: #2838b0; font-style: italic">string</span>
    <span class="nx">Tube</span>  <span style="color: #2838b0; font-style: italic">chan</span> <span style="color: #2838b0; font-style: italic">bool</span>
<span style="color: #888888">}</span>

<span style="color: #888888; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #888888; font-style: italic"></span><span style="color: #2838b0; font-style: italic">func</span> <span style="color: #785840">cow</span><span style="color: #888888">(</span><span class="nx">num</span> <span style="color: #2838b0; font-style: italic">int</span><span style="color: #888888">,</span> <span class="nx">mootube</span> <span style="color: #2838b0; font-style: italic">chan</span> <span class="nx">Moo</span><span style="color: #888888">)</span> <span style="color: #888888">{</span>
    <span class="nx">tube</span> <span style="color: #666666">:=</span> <span style="color: #388038">make</span><span style="color: #888888">(</span><span style="color: #2838b0; font-style: italic">chan</span> <span style="color: #2838b0; font-style: italic">bool</span><span style="color: #888888">)</span>
    <span style="color: #2838b0">for</span> <span style="color: #888888">{</span>
        <span style="color: #2838b0">select</span> <span style="color: #888888">{</span>
        <span style="color: #2838b0">case</span> <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span style="color: #888888">{</span><span class="nx">num</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;moo&#34;</span><span style="color: #888888">,</span> <span class="nx">tube</span><span style="color: #888888">}:</span>
            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">num</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;mooed through the mootube&#34;</span><span style="color: #888888">)</span>
            <span style="color: #666666">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">num</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;is being fed and stops mooing&#34;</span><span style="color: #888888">)</span>
            <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span style="color: #888888">{</span><span class="nx">num</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;mooh&#34;</span><span style="color: #888888">,</span> <span style="color: #444444; font-style: italic">nil</span><span style="color: #888888">}</span>
            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">num</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;moos one last time out of happyness&#34;</span><span style="color: #888888">)</span>
            <span style="color: #2838b0">return</span>
        <span style="color: #2838b0">default</span><span style="color: #888888">:</span>
            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">num</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #888888">)</span>
            <span class="nx">time</span><span style="color: #888888">.</span><span style="color: #785840">Sleep</span><span style="color: #888888">(</span><span class="nx">time</span><span style="color: #888888">.</span><span style="color: #785840">Duration</span><span style="color: #888888">(</span><span class="nx">rand</span><span style="color: #888888">.</span><span style="color: #785840">Int31n</span><span style="color: #888888">(</span><span style="color: #444444">1000</span><span style="color: #888888">))</span> <span style="color: #666666">*</span> <span class="nx">time</span><span style="color: #888888">.</span><span class="nx">Millisecond</span><span style="color: #888888">)</span>
        <span style="color: #888888">}</span>
    <span style="color: #888888">}</span>
<span style="color: #888888">}</span>

<span style="color: #888888; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #888888; font-style: italic"></span><span style="color: #2838b0; font-style: italic">func</span> <span style="color: #785840">farmer</span><span style="color: #888888">(</span><span class="nx">numcows</span> <span style="color: #2838b0; font-style: italic">int</span><span style="color: #888888">,</span> <span class="nx">mootube</span> <span style="color: #2838b0; font-style: italic">chan</span> <span class="nx">Moo</span><span style="color: #888888">,</span> <span class="nx">farmertube</span> <span style="color: #2838b0; font-style: italic">chan</span> <span style="color: #2838b0; font-style: italic">string</span><span style="color: #888888">)</span> <span style="color: #888888">{</span>
    <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #888888">)</span>
    <span style="color: #2838b0">for</span> <span class="nx">hungryCows</span> <span style="color: #666666">:=</span> <span class="nx">numcows</span><span style="color: #888888">;</span> <span class="nx">hungryCows</span> <span style="color: #888888">&gt;</span> <span style="color: #444444">0</span><span style="color: #888888">;</span> <span style="color: #888888">{</span>
        <span class="nx">moo</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #2838b0">if</span> <span class="nx">moo</span><span style="color: #888888">.</span><span class="nx">Sound</span> <span style="color: #666666">==</span> <span style="color: #b83838">&#34;mooh&#34;</span> <span style="color: #888888">{</span>
            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">moo</span><span style="color: #888888">.</span><span class="nx">Cow</span><span style="color: #888888">)</span>
            <span class="nx">hungryCows</span><span style="color: #666666">--</span>
        <span style="color: #888888">}</span> <span style="color: #2838b0">else</span> <span style="color: #888888">{</span>
            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Farmer heard a&#34;</span><span style="color: #888888">,</span> <span class="nx">moo</span><span style="color: #888888">.</span><span class="nx">Sound</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;from cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">moo</span><span style="color: #888888">.</span><span class="nx">Cow</span><span style="color: #888888">)</span>
            <span class="nx">time</span><span style="color: #888888">.</span><span style="color: #785840">Sleep</span><span style="color: #888888">(</span><span style="color: #444444">2e9</span><span style="color: #888888">)</span>
            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">moo</span><span style="color: #888888">.</span><span class="nx">Cow</span><span style="color: #888888">)</span>
            <span class="nx">moo</span><span style="color: #888888">.</span><span class="nx">Tube</span> <span style="color: #666666">&lt;-</span> <span style="color: #444444; font-style: italic">true</span>
        <span style="color: #888888">}</span>
    <span style="color: #888888">}</span>
    <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #888888">)</span>
    <span class="nx">farmertube</span> <span style="color: #666666">&lt;-</span> <span style="color: #b83838">&#34;yey!&#34;</span>
<span style="color: #888888">}</span>

<span style="color: #888888; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #888888; font-style: italic"></span><span style="color: #2838b0; font-style: italic">func</span> <span style="color: #785840">runFarm</span><span style="color: #888888">(</span><span class="nx">numcows</span> <span style="color: #2838b0; font-style: italic">int</span><span style="color: #888888">)</span> <span style="color: #888888">{</span>
    <span class="nx">farmertube</span> <span style="color: #666666">:=</span> <span style="color: #388038">make</span><span style="color: #888888">(</span><span style="color: #2838b0; font-style: italic">chan</span> <span style="color: #2838b0; font-style: italic">string</span><span style="color: #888888">)</span>
    <span class="nx">mootube</span> <span style="color: #666666">:=</span> <span style="color: #388038">make</span><span style="color: #888888">(</span><span style="color: #2838b0; font-style: italic">chan</span> <span class="nx">Moo</span><span style="color: #888888">)</span>
    <span style="color: #2838b0">for</span> <span class="nx">cownum</span> <span style="color: #666666">:=</span> <span style="color: #444444">0</span><span style="color: #888888">;</span> <span class="nx">cownum</span> <span style="color: #888888">&lt;</span> <span class="nx">numcows</span><span style="color: #888888">;</span> <span class="nx">cownum</span><span style="color: #666666">++</span> <span style="color: #888888">{</span>
        <span style="color: #2838b0">go</span> <span style="color: #785840">cow</span><span style="color: #888888">(</span><span class="nx">cownum</span><span style="color: #888888">,</span> <span class="nx">mootube</span><span style="color: #888888">)</span>
    <span style="color: #888888">}</span>
    <span style="color: #2838b0">go</span> <span style="color: #785840">farmer</span><span style="color: #888888">(</span><span class="nx">numcows</span><span style="color: #888888">,</span> <span class="nx">mootube</span><span style="color: #888888">,</span> <span class="nx">farmertube</span><span style="color: #888888">)</span>
    <span class="nx">farmerSaid</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #2838b0">if</span> <span class="nx">farmerSaid</span> <span style="color: #666666">==</span> <span style="color: #b83838">&#34;yey!&#34;</span> <span style="color: #888888">{</span>
        <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;All cows are happy.&#34;</span><span style="color: #888888">)</span>
    <span style="color: #888888">}</span>
<span style="color: #888888">}</span>

<span style="color: #2838b0; font-style: italic">func</span> <span style="color: #785840">main</span><span style="color: #888888">()</span> <span style="color: #888888">{</span>
    <span style="color: #785840">runFarm</span><span style="color: #888888">(</span><span style="color: #444444">4</span><span style="color: #888888">)</span>
    <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;done&#34;</span><span style="color: #888888">)</span>
<span style="color: #888888">}</span>
</pre></code><a name='manni'><h2><a id='stylelink' href='manni.html' alt='View only manni'>manni</a></h2></a><code><pre style="background-color: #f0f3f3" class="chroma">
<span style="color: #006699; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #006699; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #cc3300">&#34;fmt&#34;</span>
    <span style="color: #cc3300">&#34;math/rand&#34;</span>
    <span style="color: #cc3300">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #006699; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #006699; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #007788; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #007788; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #006699; font-weight: bold">chan</span> <span style="color: #007788; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #0099ff; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #0099ff; font-style: italic"></span><span style="color: #006699; font-weight: bold">func</span> <span style="color: #cc00ff">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #007788; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #006699; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span style="color: #555555">:=</span> <span style="color: #336666">make</span><span class="p">(</span><span style="color: #006699; font-weight: bold">chan</span> <span style="color: #007788; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #006699; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #006699; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #006699; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #555555">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #cc3300">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cc3300">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #555555">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cc3300">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span style="color: #555555">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #cc3300">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #006699; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cc3300">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #006699; font-weight: bold">return</span>
        <span style="color: #006699; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cc3300">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #cc00ff">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #cc00ff">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #cc00ff">Int31n</span><span class="p">(</span><span style="color: #ff6600">1000</span><span class="p">))</span> <span style="color: #555555">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #0099ff; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #0099ff; font-style: italic"></span><span style="color: #006699; font-weight: bold">func</span> <span style="color: #cc00ff">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #007788; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #006699; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #006699; font-weight: bold">chan</span> <span style="color: #007788; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #006699; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #555555">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #ff6600">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span style="color: #555555">:=</span> <span style="color: #555555">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #006699; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #555555">==</span> <span style="color: #cc3300">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span style="color: #555555">--</span>
        <span class="p">}</span> <span style="color: #006699; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #cc3300">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #cc00ff">Sleep</span><span class="p">(</span><span style="color: #ff6600">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #555555">&lt;-</span> <span style="color: #006699; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span style="color: #555555">&lt;-</span> <span style="color: #cc3300">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #0099ff; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #0099ff; font-style: italic"></span><span style="color: #006699; font-weight: bold">func</span> <span style="color: #cc00ff">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #007788; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span style="color: #555555">:=</span> <span style="color: #336666">make</span><span class="p">(</span><span style="color: #006699; font-weight: bold">chan</span> <span style="color: #007788; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span style="color: #555555">:=</span> <span style="color: #336666">make</span><span class="p">(</span><span style="color: #006699; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #006699; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #555555">:=</span> <span style="color: #ff6600">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #555555">++</span> <span class="p">{</span>
        <span style="color: #006699; font-weight: bold">go</span> <span style="color: #cc00ff">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #006699; font-weight: bold">go</span> <span style="color: #cc00ff">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span style="color: #555555">:=</span> <span style="color: #555555">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #006699; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #555555">==</span> <span style="color: #cc3300">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #006699; font-weight: bold">func</span> <span style="color: #cc00ff">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #cc00ff">runFarm</span><span class="p">(</span><span style="color: #ff6600">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='monokai'><h2><a id='stylelink' href='monokai.html' alt='View only monokai'>monokai</a></h2></a><code><pre style="color: #f8f8f2; background-color: #272822" class="chroma">
<span style="color: #f92672">package</span> <span style="color: #a6e22e">main</span>

<span style="color: #f92672">import</span> <span class="p">(</span>
    <span style="color: #e6db74">&#34;fmt&#34;</span>
    <span style="color: #e6db74">&#34;math/rand&#34;</span>
    <span style="color: #e6db74">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #66d9ef">type</span> <span style="color: #a6e22e">Moo</span> <span style="color: #66d9ef">struct</span> <span class="p">{</span>
    <span style="color: #a6e22e">Cow</span>   <span style="color: #66d9ef">int</span>
    <span style="color: #a6e22e">Sound</span> <span style="color: #66d9ef">string</span>
    <span style="color: #a6e22e">Tube</span>  <span style="color: #66d9ef">chan</span> <span style="color: #66d9ef">bool</span>
<span class="p">}</span>

<span style="color: #75715e">// A cow will moo until it is being fed
</span><span style="color: #75715e"></span><span style="color: #66d9ef">func</span> <span style="color: #a6e22e">cow</span><span class="p">(</span><span style="color: #a6e22e">num</span> <span style="color: #66d9ef">int</span><span class="p">,</span> <span style="color: #a6e22e">mootube</span> <span style="color: #66d9ef">chan</span> <span style="color: #a6e22e">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #a6e22e">tube</span> <span style="color: #f92672">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #66d9ef">chan</span> <span style="color: #66d9ef">bool</span><span class="p">)</span>
    <span style="color: #66d9ef">for</span> <span class="p">{</span>
        <span style="color: #66d9ef">select</span> <span class="p">{</span>
        <span style="color: #66d9ef">case</span> <span style="color: #a6e22e">mootube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #a6e22e">Moo</span><span class="p">{</span><span style="color: #a6e22e">num</span><span class="p">,</span> <span style="color: #e6db74">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #a6e22e">tube</span><span class="p">}:</span>
            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">num</span><span class="p">,</span> <span style="color: #e6db74">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #f92672">&lt;-</span><span style="color: #a6e22e">tube</span>
            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">num</span><span class="p">,</span> <span style="color: #e6db74">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span style="color: #a6e22e">mootube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #a6e22e">Moo</span><span class="p">{</span><span style="color: #a6e22e">num</span><span class="p">,</span> <span style="color: #e6db74">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #66d9ef">nil</span><span class="p">}</span>
            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">num</span><span class="p">,</span> <span style="color: #e6db74">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #66d9ef">return</span>
        <span style="color: #66d9ef">default</span><span class="p">:</span>
            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">num</span><span class="p">,</span> <span style="color: #e6db74">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span style="color: #a6e22e">time</span><span class="p">.</span><span style="color: #a6e22e">Sleep</span><span class="p">(</span><span style="color: #a6e22e">time</span><span class="p">.</span><span style="color: #a6e22e">Duration</span><span class="p">(</span><span style="color: #a6e22e">rand</span><span class="p">.</span><span style="color: #a6e22e">Int31n</span><span class="p">(</span><span style="color: #ae81ff">1000</span><span class="p">))</span> <span style="color: #f92672">*</span> <span style="color: #a6e22e">time</span><span class="p">.</span><span style="color: #a6e22e">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #75715e">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #75715e"></span><span style="color: #66d9ef">func</span> <span style="color: #a6e22e">farmer</span><span class="p">(</span><span style="color: #a6e22e">numcows</span> <span style="color: #66d9ef">int</span><span class="p">,</span> <span style="color: #a6e22e">mootube</span> <span style="color: #66d9ef">chan</span> <span style="color: #a6e22e">Moo</span><span class="p">,</span> <span style="color: #a6e22e">farmertube</span> <span style="color: #66d9ef">chan</span> <span style="color: #66d9ef">string</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #66d9ef">for</span> <span style="color: #a6e22e">hungryCows</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">numcows</span><span class="p">;</span> <span style="color: #a6e22e">hungryCows</span> <span class="p">&gt;</span> <span style="color: #ae81ff">0</span><span class="p">;</span> <span class="p">{</span>
        <span style="color: #a6e22e">moo</span> <span style="color: #f92672">:=</span> <span style="color: #f92672">&lt;-</span><span style="color: #a6e22e">mootube</span>
        <span style="color: #66d9ef">if</span> <span style="color: #a6e22e">moo</span><span class="p">.</span><span style="color: #a6e22e">Sound</span> <span style="color: #f92672">==</span> <span style="color: #e6db74">&#34;mooh&#34;</span> <span class="p">{</span>
            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">moo</span><span class="p">.</span><span style="color: #a6e22e">Cow</span><span class="p">)</span>
            <span style="color: #a6e22e">hungryCows</span><span style="color: #f92672">--</span>
        <span class="p">}</span> <span style="color: #66d9ef">else</span> <span class="p">{</span>
            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #a6e22e">moo</span><span class="p">.</span><span style="color: #a6e22e">Sound</span><span class="p">,</span> <span style="color: #e6db74">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">moo</span><span class="p">.</span><span style="color: #a6e22e">Cow</span><span class="p">)</span>
            <span style="color: #a6e22e">time</span><span class="p">.</span><span style="color: #a6e22e">Sleep</span><span class="p">(</span><span style="color: #ae81ff">2e9</span><span class="p">)</span>
            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">moo</span><span class="p">.</span><span style="color: #a6e22e">Cow</span><span class="p">)</span>
            <span style="color: #a6e22e">moo</span><span class="p">.</span><span style="color: #a6e22e">Tube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #66d9ef">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span style="color: #a6e22e">farmertube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #e6db74">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #75715e">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #75715e"></span><span style="color: #66d9ef">func</span> <span style="color: #a6e22e">runFarm</span><span class="p">(</span><span style="color: #a6e22e">numcows</span> <span style="color: #66d9ef">int</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #a6e22e">farmertube</span> <span style="color: #f92672">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #66d9ef">chan</span> <span style="color: #66d9ef">string</span><span class="p">)</span>
    <span style="color: #a6e22e">mootube</span> <span style="color: #f92672">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #66d9ef">chan</span> <span style="color: #a6e22e">Moo</span><span class="p">)</span>
    <span style="color: #66d9ef">for</span> <span style="color: #a6e22e">cownum</span> <span style="color: #f92672">:=</span> <span style="color: #ae81ff">0</span><span class="p">;</span> <span style="color: #a6e22e">cownum</span> <span class="p">&lt;</span> <span style="color: #a6e22e">numcows</span><span class="p">;</span> <span style="color: #a6e22e">cownum</span><span style="color: #f92672">++</span> <span class="p">{</span>
        <span style="color: #66d9ef">go</span> <span style="color: #a6e22e">cow</span><span class="p">(</span><span style="color: #a6e22e">cownum</span><span class="p">,</span> <span style="color: #a6e22e">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #66d9ef">go</span> <span style="color: #a6e22e">farmer</span><span class="p">(</span><span style="color: #a6e22e">numcows</span><span class="p">,</span> <span style="color: #a6e22e">mootube</span><span class="p">,</span> <span style="color: #a6e22e">farmertube</span><span class="p">)</span>
    <span style="color: #a6e22e">farmerSaid</span> <span style="color: #f92672">:=</span> <span style="color: #f92672">&lt;-</span><span style="color: #a6e22e">farmertube</span>
    <span style="color: #66d9ef">if</span> <span style="color: #a6e22e">farmerSaid</span> <span style="color: #f92672">==</span> <span style="color: #e6db74">&#34;yey!&#34;</span> <span class="p">{</span>
        <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #66d9ef">func</span> <span style="color: #a6e22e">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #a6e22e">runFarm</span><span class="p">(</span><span style="color: #ae81ff">4</span><span class="p">)</span>
    <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='monokailight'><h2><a id='stylelink' href='monokailight.html' alt='View only monokailight'>monokailight</a></h2></a><code><pre style="color: #272822; background-color: #fafafa" class="chroma">
<span style="color: #f92672">package</span> <span style="color: #75af00">main</span>

<span style="color: #f92672">import</span> <span style="color: #111111">(</span>
    <span style="color: #d88200">&#34;fmt&#34;</span>
    <span style="color: #d88200">&#34;math/rand&#34;</span>
    <span style="color: #d88200">&#34;time&#34;</span>
<span style="color: #111111">)</span>

<span style="color: #00a8c8">type</span> <span style="color: #75af00">Moo</span> <span style="color: #00a8c8">struct</span> <span style="color: #111111">{</span>
    <span style="color: #75af00">Cow</span>   <span style="color: #00a8c8">int</span>
    <span style="color: #75af00">Sound</span> <span style="color: #00a8c8">string</span>
    <span style="color: #75af00">Tube</span>  <span style="color: #00a8c8">chan</span> <span style="color: #00a8c8">bool</span>
<span style="color: #111111">}</span>

<span style="color: #75715e">// A cow will moo until it is being fed
</span><span style="color: #75715e"></span><span style="color: #00a8c8">func</span> <span style="color: #75af00">cow</span><span style="color: #111111">(</span><span style="color: #75af00">num</span> <span style="color: #00a8c8">int</span><span style="color: #111111">,</span> <span style="color: #75af00">mootube</span> <span style="color: #00a8c8">chan</span> <span style="color: #75af00">Moo</span><span style="color: #111111">)</span> <span style="color: #111111">{</span>
    <span style="color: #75af00">tube</span> <span style="color: #f92672">:=</span> <span style="color: #111111">make</span><span style="color: #111111">(</span><span style="color: #00a8c8">chan</span> <span style="color: #00a8c8">bool</span><span style="color: #111111">)</span>
    <span style="color: #00a8c8">for</span> <span style="color: #111111">{</span>
        <span style="color: #00a8c8">select</span> <span style="color: #111111">{</span>
        <span style="color: #00a8c8">case</span> <span style="color: #75af00">mootube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #75af00">Moo</span><span style="color: #111111">{</span><span style="color: #75af00">num</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;moo&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">tube</span><span style="color: #111111">}:</span>
            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">num</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;mooed through the mootube&#34;</span><span style="color: #111111">)</span>
            <span style="color: #f92672">&lt;-</span><span style="color: #75af00">tube</span>
            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">num</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;is being fed and stops mooing&#34;</span><span style="color: #111111">)</span>
            <span style="color: #75af00">mootube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #75af00">Moo</span><span style="color: #111111">{</span><span style="color: #75af00">num</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;mooh&#34;</span><span style="color: #111111">,</span> <span style="color: #00a8c8">nil</span><span style="color: #111111">}</span>
            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">num</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;moos one last time out of happyness&#34;</span><span style="color: #111111">)</span>
            <span style="color: #00a8c8">return</span>
        <span style="color: #00a8c8">default</span><span style="color: #111111">:</span>
            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">num</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #111111">)</span>
            <span style="color: #75af00">time</span><span style="color: #111111">.</span><span style="color: #75af00">Sleep</span><span style="color: #111111">(</span><span style="color: #75af00">time</span><span style="color: #111111">.</span><span style="color: #75af00">Duration</span><span style="color: #111111">(</span><span style="color: #75af00">rand</span><span style="color: #111111">.</span><span style="color: #75af00">Int31n</span><span style="color: #111111">(</span><span style="color: #ae81ff">1000</span><span style="color: #111111">))</span> <span style="color: #f92672">*</span> <span style="color: #75af00">time</span><span style="color: #111111">.</span><span style="color: #75af00">Millisecond</span><span style="color: #111111">)</span>
        <span style="color: #111111">}</span>
    <span style="color: #111111">}</span>
<span style="color: #111111">}</span>

<span style="color: #75715e">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #75715e"></span><span style="color: #00a8c8">func</span> <span style="color: #75af00">farmer</span><span style="color: #111111">(</span><span style="color: #75af00">numcows</span> <span style="color: #00a8c8">int</span><span style="color: #111111">,</span> <span style="color: #75af00">mootube</span> <span style="color: #00a8c8">chan</span> <span style="color: #75af00">Moo</span><span style="color: #111111">,</span> <span style="color: #75af00">farmertube</span> <span style="color: #00a8c8">chan</span> <span style="color: #00a8c8">string</span><span style="color: #111111">)</span> <span style="color: #111111">{</span>
    <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #111111">)</span>
    <span style="color: #00a8c8">for</span> <span style="color: #75af00">hungryCows</span> <span style="color: #f92672">:=</span> <span style="color: #75af00">numcows</span><span style="color: #111111">;</span> <span style="color: #75af00">hungryCows</span> <span style="color: #111111">&gt;</span> <span style="color: #ae81ff">0</span><span style="color: #111111">;</span> <span style="color: #111111">{</span>
        <span style="color: #75af00">moo</span> <span style="color: #f92672">:=</span> <span style="color: #f92672">&lt;-</span><span style="color: #75af00">mootube</span>
        <span style="color: #00a8c8">if</span> <span style="color: #75af00">moo</span><span style="color: #111111">.</span><span style="color: #75af00">Sound</span> <span style="color: #f92672">==</span> <span style="color: #d88200">&#34;mooh&#34;</span> <span style="color: #111111">{</span>
            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">moo</span><span style="color: #111111">.</span><span style="color: #75af00">Cow</span><span style="color: #111111">)</span>
            <span style="color: #75af00">hungryCows</span><span style="color: #f92672">--</span>
        <span style="color: #111111">}</span> <span style="color: #00a8c8">else</span> <span style="color: #111111">{</span>
            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Farmer heard a&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">moo</span><span style="color: #111111">.</span><span style="color: #75af00">Sound</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;from cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">moo</span><span style="color: #111111">.</span><span style="color: #75af00">Cow</span><span style="color: #111111">)</span>
            <span style="color: #75af00">time</span><span style="color: #111111">.</span><span style="color: #75af00">Sleep</span><span style="color: #111111">(</span><span style="color: #ae81ff">2e9</span><span style="color: #111111">)</span>
            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">moo</span><span style="color: #111111">.</span><span style="color: #75af00">Cow</span><span style="color: #111111">)</span>
            <span style="color: #75af00">moo</span><span style="color: #111111">.</span><span style="color: #75af00">Tube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #00a8c8">true</span>
        <span style="color: #111111">}</span>
    <span style="color: #111111">}</span>
    <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #111111">)</span>
    <span style="color: #75af00">farmertube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #d88200">&#34;yey!&#34;</span>
<span style="color: #111111">}</span>

<span style="color: #75715e">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #75715e"></span><span style="color: #00a8c8">func</span> <span style="color: #75af00">runFarm</span><span style="color: #111111">(</span><span style="color: #75af00">numcows</span> <span style="color: #00a8c8">int</span><span style="color: #111111">)</span> <span style="color: #111111">{</span>
    <span style="color: #75af00">farmertube</span> <span style="color: #f92672">:=</span> <span style="color: #111111">make</span><span style="color: #111111">(</span><span style="color: #00a8c8">chan</span> <span style="color: #00a8c8">string</span><span style="color: #111111">)</span>
    <span style="color: #75af00">mootube</span> <span style="color: #f92672">:=</span> <span style="color: #111111">make</span><span style="color: #111111">(</span><span style="color: #00a8c8">chan</span> <span style="color: #75af00">Moo</span><span style="color: #111111">)</span>
    <span style="color: #00a8c8">for</span> <span style="color: #75af00">cownum</span> <span style="color: #f92672">:=</span> <span style="color: #ae81ff">0</span><span style="color: #111111">;</span> <span style="color: #75af00">cownum</span> <span style="color: #111111">&lt;</span> <span style="color: #75af00">numcows</span><span style="color: #111111">;</span> <span style="color: #75af00">cownum</span><span style="color: #f92672">++</span> <span style="color: #111111">{</span>
        <span style="color: #00a8c8">go</span> <span style="color: #75af00">cow</span><span style="color: #111111">(</span><span style="color: #75af00">cownum</span><span style="color: #111111">,</span> <span style="color: #75af00">mootube</span><span style="color: #111111">)</span>
    <span style="color: #111111">}</span>
    <span style="color: #00a8c8">go</span> <span style="color: #75af00">farmer</span><span style="color: #111111">(</span><span style="color: #75af00">numcows</span><span style="color: #111111">,</span> <span style="color: #75af00">mootube</span><span style="color: #111111">,</span> <span style="color: #75af00">farmertube</span><span style="color: #111111">)</span>
    <span style="color: #75af00">farmerSaid</span> <span style="color: #f92672">:=</span> <span style="color: #f92672">&lt;-</span><span style="color: #75af00">farmertube</span>
    <span style="color: #00a8c8">if</span> <span style="color: #75af00">farmerSaid</span> <span style="color: #f92672">==</span> <span style="color: #d88200">&#34;yey!&#34;</span> <span style="color: #111111">{</span>
        <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;All cows are happy.&#34;</span><span style="color: #111111">)</span>
    <span style="color: #111111">}</span>
<span style="color: #111111">}</span>

<span style="color: #00a8c8">func</span> <span style="color: #75af00">main</span><span style="color: #111111">()</span> <span style="color: #111111">{</span>
    <span style="color: #75af00">runFarm</span><span style="color: #111111">(</span><span style="color: #ae81ff">4</span><span style="color: #111111">)</span>
    <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;done&#34;</span><span style="color: #111111">)</span>
<span style="color: #111111">}</span>
</pre></code><a name='murphy'><h2><a id='stylelink' href='murphy.html' alt='View only murphy'>murphy</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="color: #228899; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #228899; font-weight: bold">import</span> <span class="p">(</span>
    <span style="background-color: #e0e0ff">&#34;fmt&#34;</span>
    <span style="background-color: #e0e0ff">&#34;math/rand&#34;</span>
    <span style="background-color: #e0e0ff">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #228899; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #228899; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #6666ff; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #6666ff; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #228899; font-weight: bold">chan</span> <span style="color: #6666ff; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #666666; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #666666; font-style: italic"></span><span style="color: #228899; font-weight: bold">func</span> <span style="color: #55eedd; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #6666ff; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #228899; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span style="color: #333333">:=</span> <span style="color: #007722">make</span><span class="p">(</span><span style="color: #228899; font-weight: bold">chan</span> <span style="color: #6666ff; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #228899; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #228899; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #228899; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #333333">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #333333">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span style="color: #333333">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #228899; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #228899; font-weight: bold">return</span>
        <span style="color: #228899; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #6666ff; font-weight: bold">1000</span><span class="p">))</span> <span style="color: #333333">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #666666; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #666666; font-style: italic"></span><span style="color: #228899; font-weight: bold">func</span> <span style="color: #55eedd; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #6666ff; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #228899; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #228899; font-weight: bold">chan</span> <span style="color: #6666ff; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #228899; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #333333">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #6666ff; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span style="color: #333333">:=</span> <span style="color: #333333">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #228899; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #333333">==</span> <span style="background-color: #e0e0ff">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span style="color: #333333">--</span>
        <span class="p">}</span> <span style="color: #228899; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #6600ee; font-weight: bold">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #333333">&lt;-</span> <span style="color: #228899; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span style="color: #333333">&lt;-</span> <span style="background-color: #e0e0ff">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #666666; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #666666; font-style: italic"></span><span style="color: #228899; font-weight: bold">func</span> <span style="color: #55eedd; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #6666ff; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span style="color: #333333">:=</span> <span style="color: #007722">make</span><span class="p">(</span><span style="color: #228899; font-weight: bold">chan</span> <span style="color: #6666ff; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span style="color: #333333">:=</span> <span style="color: #007722">make</span><span class="p">(</span><span style="color: #228899; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #228899; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #333333">:=</span> <span style="color: #6666ff; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #333333">++</span> <span class="p">{</span>
        <span style="color: #228899; font-weight: bold">go</span> <span style="color: #55eedd; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #228899; font-weight: bold">go</span> <span style="color: #55eedd; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span style="color: #333333">:=</span> <span style="color: #333333">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #228899; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #333333">==</span> <span style="background-color: #e0e0ff">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #228899; font-weight: bold">func</span> <span style="color: #55eedd; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #55eedd; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #6666ff; font-weight: bold">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='native'><h2><a id='stylelink' href='native.html' alt='View only native'>native</a></h2></a><code><pre style="color: #d0d0d0; background-color: #202020" class="chroma">
<span style="color: #6ab825; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #6ab825; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #ed9d13">&#34;fmt&#34;</span>
    <span style="color: #ed9d13">&#34;math/rand&#34;</span>
    <span style="color: #ed9d13">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #6ab825; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #6ab825; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #6ab825; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #6ab825; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #6ab825; font-weight: bold">chan</span> <span style="color: #6ab825; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #999999; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #999999; font-style: italic"></span><span style="color: #6ab825; font-weight: bold">func</span> <span style="color: #447fcf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #6ab825; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #6ab825; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #24909d">make</span><span class="p">(</span><span style="color: #6ab825; font-weight: bold">chan</span> <span style="color: #6ab825; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #6ab825; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #6ab825; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #6ab825; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #ed9d13">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ed9d13">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ed9d13">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #ed9d13">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #6ab825; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ed9d13">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #6ab825; font-weight: bold">return</span>
        <span style="color: #6ab825; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ed9d13">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #447fcf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #447fcf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #447fcf">Int31n</span><span class="p">(</span><span style="color: #3677a9">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #999999; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #999999; font-style: italic"></span><span style="color: #6ab825; font-weight: bold">func</span> <span style="color: #447fcf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #6ab825; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #6ab825; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #6ab825; font-weight: bold">chan</span> <span style="color: #6ab825; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #6ab825; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #3677a9">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #6ab825; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #ed9d13">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #6ab825; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #ed9d13">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #447fcf">Sleep</span><span class="p">(</span><span style="color: #3677a9">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #6ab825; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #ed9d13">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #999999; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #999999; font-style: italic"></span><span style="color: #6ab825; font-weight: bold">func</span> <span style="color: #447fcf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #6ab825; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #24909d">make</span><span class="p">(</span><span style="color: #6ab825; font-weight: bold">chan</span> <span style="color: #6ab825; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #24909d">make</span><span class="p">(</span><span style="color: #6ab825; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #6ab825; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #3677a9">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #6ab825; font-weight: bold">go</span> <span style="color: #447fcf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #6ab825; font-weight: bold">go</span> <span style="color: #447fcf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #6ab825; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #ed9d13">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #6ab825; font-weight: bold">func</span> <span style="color: #447fcf">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #447fcf">runFarm</span><span class="p">(</span><span style="color: #3677a9">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='paraiso-dark'><h2><a id='stylelink' href='paraiso-dark.html' alt='View only paraiso-dark'>paraiso-dark</a></h2></a><code><pre style="color: #e7e9db; background-color: #2f1e2e" class="chroma">
<span style="color: #5bc4bf">package</span> <span style="color: #06b6ef">main</span>

<span style="color: #5bc4bf">import</span> <span class="p">(</span>
    <span style="color: #48b685">&#34;fmt&#34;</span>
    <span style="color: #48b685">&#34;math/rand&#34;</span>
    <span style="color: #48b685">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #815ba4">type</span> <span style="color: #06b6ef">Moo</span> <span style="color: #815ba4">struct</span> <span class="p">{</span>
    <span style="color: #06b6ef">Cow</span>   <span style="color: #fec418">int</span>
    <span style="color: #06b6ef">Sound</span> <span style="color: #fec418">string</span>
    <span style="color: #06b6ef">Tube</span>  <span style="color: #815ba4">chan</span> <span style="color: #fec418">bool</span>
<span class="p">}</span>

<span style="color: #776e71">// A cow will moo until it is being fed
</span><span style="color: #776e71"></span><span style="color: #815ba4">func</span> <span style="color: #06b6ef">cow</span><span class="p">(</span><span style="color: #06b6ef">num</span> <span style="color: #fec418">int</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span> <span style="color: #815ba4">chan</span> <span style="color: #06b6ef">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #06b6ef">tube</span> <span style="color: #5bc4bf">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #815ba4">chan</span> <span style="color: #fec418">bool</span><span class="p">)</span>
    <span style="color: #815ba4">for</span> <span class="p">{</span>
        <span style="color: #815ba4">select</span> <span class="p">{</span>
        <span style="color: #815ba4">case</span> <span style="color: #06b6ef">mootube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #06b6ef">Moo</span><span class="p">{</span><span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #06b6ef">tube</span><span class="p">}:</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #5bc4bf">&lt;-</span><span style="color: #06b6ef">tube</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span style="color: #06b6ef">mootube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #06b6ef">Moo</span><span class="p">{</span><span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #815ba4">nil</span><span class="p">}</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #815ba4">return</span>
        <span style="color: #815ba4">default</span><span class="p">:</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Sleep</span><span class="p">(</span><span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Duration</span><span class="p">(</span><span style="color: #06b6ef">rand</span><span class="p">.</span><span style="color: #06b6ef">Int31n</span><span class="p">(</span><span style="color: #f99b15">1000</span><span class="p">))</span> <span style="color: #5bc4bf">*</span> <span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #776e71">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #776e71"></span><span style="color: #815ba4">func</span> <span style="color: #06b6ef">farmer</span><span class="p">(</span><span style="color: #06b6ef">numcows</span> <span style="color: #fec418">int</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span> <span style="color: #815ba4">chan</span> <span style="color: #06b6ef">Moo</span><span class="p">,</span> <span style="color: #06b6ef">farmertube</span> <span style="color: #815ba4">chan</span> <span style="color: #fec418">string</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #815ba4">for</span> <span style="color: #06b6ef">hungryCows</span> <span style="color: #5bc4bf">:=</span> <span style="color: #06b6ef">numcows</span><span class="p">;</span> <span style="color: #06b6ef">hungryCows</span> <span class="p">&gt;</span> <span style="color: #f99b15">0</span><span class="p">;</span> <span class="p">{</span>
        <span style="color: #06b6ef">moo</span> <span style="color: #5bc4bf">:=</span> <span style="color: #5bc4bf">&lt;-</span><span style="color: #06b6ef">mootube</span>
        <span style="color: #815ba4">if</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Sound</span> <span style="color: #5bc4bf">==</span> <span style="color: #48b685">&#34;mooh&#34;</span> <span class="p">{</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Cow</span><span class="p">)</span>
            <span style="color: #06b6ef">hungryCows</span><span style="color: #5bc4bf">--</span>
        <span class="p">}</span> <span style="color: #815ba4">else</span> <span class="p">{</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Sound</span><span class="p">,</span> <span style="color: #48b685">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Cow</span><span class="p">)</span>
            <span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Sleep</span><span class="p">(</span><span style="color: #f99b15">2e9</span><span class="p">)</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Cow</span><span class="p">)</span>
            <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Tube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #815ba4">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span style="color: #06b6ef">farmertube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #48b685">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #776e71">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #776e71"></span><span style="color: #815ba4">func</span> <span style="color: #06b6ef">runFarm</span><span class="p">(</span><span style="color: #06b6ef">numcows</span> <span style="color: #fec418">int</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #06b6ef">farmertube</span> <span style="color: #5bc4bf">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #815ba4">chan</span> <span style="color: #fec418">string</span><span class="p">)</span>
    <span style="color: #06b6ef">mootube</span> <span style="color: #5bc4bf">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #815ba4">chan</span> <span style="color: #06b6ef">Moo</span><span class="p">)</span>
    <span style="color: #815ba4">for</span> <span style="color: #06b6ef">cownum</span> <span style="color: #5bc4bf">:=</span> <span style="color: #f99b15">0</span><span class="p">;</span> <span style="color: #06b6ef">cownum</span> <span class="p">&lt;</span> <span style="color: #06b6ef">numcows</span><span class="p">;</span> <span style="color: #06b6ef">cownum</span><span style="color: #5bc4bf">++</span> <span class="p">{</span>
        <span style="color: #815ba4">go</span> <span style="color: #06b6ef">cow</span><span class="p">(</span><span style="color: #06b6ef">cownum</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #815ba4">go</span> <span style="color: #06b6ef">farmer</span><span class="p">(</span><span style="color: #06b6ef">numcows</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span><span class="p">,</span> <span style="color: #06b6ef">farmertube</span><span class="p">)</span>
    <span style="color: #06b6ef">farmerSaid</span> <span style="color: #5bc4bf">:=</span> <span style="color: #5bc4bf">&lt;-</span><span style="color: #06b6ef">farmertube</span>
    <span style="color: #815ba4">if</span> <span style="color: #06b6ef">farmerSaid</span> <span style="color: #5bc4bf">==</span> <span style="color: #48b685">&#34;yey!&#34;</span> <span class="p">{</span>
        <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #815ba4">func</span> <span style="color: #06b6ef">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #06b6ef">runFarm</span><span class="p">(</span><span style="color: #f99b15">4</span><span class="p">)</span>
    <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='paraiso-light'><h2><a id='stylelink' href='paraiso-light.html' alt='View only paraiso-light'>paraiso-light</a></h2></a><code><pre style="color: #2f1e2e; background-color: #e7e9db" class="chroma">
<span style="color: #5bc4bf">package</span> <span style="color: #06b6ef">main</span>

<span style="color: #5bc4bf">import</span> <span class="p">(</span>
    <span style="color: #48b685">&#34;fmt&#34;</span>
    <span style="color: #48b685">&#34;math/rand&#34;</span>
    <span style="color: #48b685">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #815ba4">type</span> <span style="color: #06b6ef">Moo</span> <span style="color: #815ba4">struct</span> <span class="p">{</span>
    <span style="color: #06b6ef">Cow</span>   <span style="color: #fec418">int</span>
    <span style="color: #06b6ef">Sound</span> <span style="color: #fec418">string</span>
    <span style="color: #06b6ef">Tube</span>  <span style="color: #815ba4">chan</span> <span style="color: #fec418">bool</span>
<span class="p">}</span>

<span style="color: #8d8687">// A cow will moo until it is being fed
</span><span style="color: #8d8687"></span><span style="color: #815ba4">func</span> <span style="color: #06b6ef">cow</span><span class="p">(</span><span style="color: #06b6ef">num</span> <span style="color: #fec418">int</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span> <span style="color: #815ba4">chan</span> <span style="color: #06b6ef">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #06b6ef">tube</span> <span style="color: #5bc4bf">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #815ba4">chan</span> <span style="color: #fec418">bool</span><span class="p">)</span>
    <span style="color: #815ba4">for</span> <span class="p">{</span>
        <span style="color: #815ba4">select</span> <span class="p">{</span>
        <span style="color: #815ba4">case</span> <span style="color: #06b6ef">mootube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #06b6ef">Moo</span><span class="p">{</span><span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #06b6ef">tube</span><span class="p">}:</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #5bc4bf">&lt;-</span><span style="color: #06b6ef">tube</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span style="color: #06b6ef">mootube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #06b6ef">Moo</span><span class="p">{</span><span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #815ba4">nil</span><span class="p">}</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #815ba4">return</span>
        <span style="color: #815ba4">default</span><span class="p">:</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Sleep</span><span class="p">(</span><span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Duration</span><span class="p">(</span><span style="color: #06b6ef">rand</span><span class="p">.</span><span style="color: #06b6ef">Int31n</span><span class="p">(</span><span style="color: #f99b15">1000</span><span class="p">))</span> <span style="color: #5bc4bf">*</span> <span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #8d8687">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #8d8687"></span><span style="color: #815ba4">func</span> <span style="color: #06b6ef">farmer</span><span class="p">(</span><span style="color: #06b6ef">numcows</span> <span style="color: #fec418">int</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span> <span style="color: #815ba4">chan</span> <span style="color: #06b6ef">Moo</span><span class="p">,</span> <span style="color: #06b6ef">farmertube</span> <span style="color: #815ba4">chan</span> <span style="color: #fec418">string</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #815ba4">for</span> <span style="color: #06b6ef">hungryCows</span> <span style="color: #5bc4bf">:=</span> <span style="color: #06b6ef">numcows</span><span class="p">;</span> <span style="color: #06b6ef">hungryCows</span> <span class="p">&gt;</span> <span style="color: #f99b15">0</span><span class="p">;</span> <span class="p">{</span>
        <span style="color: #06b6ef">moo</span> <span style="color: #5bc4bf">:=</span> <span style="color: #5bc4bf">&lt;-</span><span style="color: #06b6ef">mootube</span>
        <span style="color: #815ba4">if</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Sound</span> <span style="color: #5bc4bf">==</span> <span style="color: #48b685">&#34;mooh&#34;</span> <span class="p">{</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Cow</span><span class="p">)</span>
            <span style="color: #06b6ef">hungryCows</span><span style="color: #5bc4bf">--</span>
        <span class="p">}</span> <span style="color: #815ba4">else</span> <span class="p">{</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Sound</span><span class="p">,</span> <span style="color: #48b685">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Cow</span><span class="p">)</span>
            <span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Sleep</span><span class="p">(</span><span style="color: #f99b15">2e9</span><span class="p">)</span>
            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Cow</span><span class="p">)</span>
            <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Tube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #815ba4">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span style="color: #06b6ef">farmertube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #48b685">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #8d8687">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #8d8687"></span><span style="color: #815ba4">func</span> <span style="color: #06b6ef">runFarm</span><span class="p">(</span><span style="color: #06b6ef">numcows</span> <span style="color: #fec418">int</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #06b6ef">farmertube</span> <span style="color: #5bc4bf">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #815ba4">chan</span> <span style="color: #fec418">string</span><span class="p">)</span>
    <span style="color: #06b6ef">mootube</span> <span style="color: #5bc4bf">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #815ba4">chan</span> <span style="color: #06b6ef">Moo</span><span class="p">)</span>
    <span style="color: #815ba4">for</span> <span style="color: #06b6ef">cownum</span> <span style="color: #5bc4bf">:=</span> <span style="color: #f99b15">0</span><span class="p">;</span> <span style="color: #06b6ef">cownum</span> <span class="p">&lt;</span> <span style="color: #06b6ef">numcows</span><span class="p">;</span> <span style="color: #06b6ef">cownum</span><span style="color: #5bc4bf">++</span> <span class="p">{</span>
        <span style="color: #815ba4">go</span> <span style="color: #06b6ef">cow</span><span class="p">(</span><span style="color: #06b6ef">cownum</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #815ba4">go</span> <span style="color: #06b6ef">farmer</span><span class="p">(</span><span style="color: #06b6ef">numcows</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span><span class="p">,</span> <span style="color: #06b6ef">farmertube</span><span class="p">)</span>
    <span style="color: #06b6ef">farmerSaid</span> <span style="color: #5bc4bf">:=</span> <span style="color: #5bc4bf">&lt;-</span><span style="color: #06b6ef">farmertube</span>
    <span style="color: #815ba4">if</span> <span style="color: #06b6ef">farmerSaid</span> <span style="color: #5bc4bf">==</span> <span style="color: #48b685">&#34;yey!&#34;</span> <span class="p">{</span>
        <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #815ba4">func</span> <span style="color: #06b6ef">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #06b6ef">runFarm</span><span class="p">(</span><span style="color: #f99b15">4</span><span class="p">)</span>
    <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='pastie'><h2><a id='stylelink' href='pastie.html' alt='View only pastie'>pastie</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="color: #008800; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #008800; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #dd2200; background-color: #fff0f0">&#34;fmt&#34;</span>
    <span style="color: #dd2200; background-color: #fff0f0">&#34;math/rand&#34;</span>
    <span style="color: #dd2200; background-color: #fff0f0">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #008800; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #008800; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #888888; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #888888; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #008800; font-weight: bold">chan</span> <span style="color: #888888; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #888888">// A cow will moo until it is being fed
</span><span style="color: #888888"></span><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #888888; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #008800; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #003388">make</span><span class="p">(</span><span style="color: #008800; font-weight: bold">chan</span> <span style="color: #888888; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #008800; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #008800; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #008800; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #008800; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #008800; font-weight: bold">return</span>
        <span style="color: #008800; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #0000dd; font-weight: bold">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #888888">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #888888"></span><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #888888; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #008800; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #008800; font-weight: bold">chan</span> <span style="color: #888888; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #008800; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #0000dd; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #008800; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #008800; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #0000dd; font-weight: bold">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #008800; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #888888">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #888888"></span><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #888888; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #003388">make</span><span class="p">(</span><span style="color: #008800; font-weight: bold">chan</span> <span style="color: #888888; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #003388">make</span><span class="p">(</span><span style="color: #008800; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #008800; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #0000dd; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #008800; font-weight: bold">go</span> <span style="color: #0066bb; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #008800; font-weight: bold">go</span> <span style="color: #0066bb; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #008800; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #0066bb; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #0000dd; font-weight: bold">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='perldoc'><h2><a id='stylelink' href='perldoc.html' alt='View only perldoc'>perldoc</a></h2></a><code><pre style="background-color: #eeeedd" class="chroma">
<span style="color: #8b008b; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #8b008b; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #cd5555">&#34;fmt&#34;</span>
    <span style="color: #cd5555">&#34;math/rand&#34;</span>
    <span style="color: #cd5555">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #8b008b; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #8b008b; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #00688b; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #00688b; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #8b008b; font-weight: bold">chan</span> <span style="color: #00688b; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #228b22">// A cow will moo until it is being fed
</span><span style="color: #228b22"></span><span style="color: #8b008b; font-weight: bold">func</span> <span style="color: #008b45">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #00688b; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #8b008b; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #658b00">make</span><span class="p">(</span><span style="color: #8b008b; font-weight: bold">chan</span> <span style="color: #00688b; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #8b008b; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #8b008b; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #8b008b; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #cd5555">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd5555">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd5555">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #cd5555">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #8b008b; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd5555">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #8b008b; font-weight: bold">return</span>
        <span style="color: #8b008b; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd5555">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #008b45">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #008b45">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #008b45">Int31n</span><span class="p">(</span><span style="color: #b452cd">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #228b22">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #228b22"></span><span style="color: #8b008b; font-weight: bold">func</span> <span style="color: #008b45">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00688b; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #8b008b; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #8b008b; font-weight: bold">chan</span> <span style="color: #00688b; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #8b008b; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #b452cd">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #8b008b; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #cd5555">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #8b008b; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #cd5555">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #008b45">Sleep</span><span class="p">(</span><span style="color: #b452cd">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #8b008b; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #cd5555">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #228b22">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #228b22"></span><span style="color: #8b008b; font-weight: bold">func</span> <span style="color: #008b45">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00688b; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #658b00">make</span><span class="p">(</span><span style="color: #8b008b; font-weight: bold">chan</span> <span style="color: #00688b; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #658b00">make</span><span class="p">(</span><span style="color: #8b008b; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #8b008b; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #b452cd">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #8b008b; font-weight: bold">go</span> <span style="color: #008b45">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #8b008b; font-weight: bold">go</span> <span style="color: #008b45">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #8b008b; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #cd5555">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #8b008b; font-weight: bold">func</span> <span style="color: #008b45">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #008b45">runFarm</span><span class="p">(</span><span style="color: #b452cd">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='pygments'><h2><a id='stylelink' href='pygments.html' alt='View only pygments'>pygments</a></h2></a><code><pre style="" class="chroma">
<span style="color: #008000; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #008000; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #ba2121">&#34;fmt&#34;</span>
    <span style="color: #ba2121">&#34;math/rand&#34;</span>
    <span style="color: #ba2121">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #008000; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #008000; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #b00040">int</span>
    <span class="nx">Sound</span> <span style="color: #b00040">string</span>
    <span class="nx">Tube</span>  <span style="color: #008000; font-weight: bold">chan</span> <span style="color: #b00040">bool</span>
<span class="p">}</span>

<span style="color: #408080; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #408080; font-style: italic"></span><span style="color: #008000; font-weight: bold">func</span> <span style="color: #0000ff">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #b00040">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #008000; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span style="color: #666666">:=</span> <span style="color: #008000">make</span><span class="p">(</span><span style="color: #008000; font-weight: bold">chan</span> <span style="color: #b00040">bool</span><span class="p">)</span>
    <span style="color: #008000; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #008000; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #008000; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #ba2121">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ba2121">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #666666">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ba2121">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #ba2121">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #008000; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ba2121">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #008000; font-weight: bold">return</span>
        <span style="color: #008000; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ba2121">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #0000ff">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #0000ff">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #0000ff">Int31n</span><span class="p">(</span><span style="color: #666666">1000</span><span class="p">))</span> <span style="color: #666666">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #408080; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #408080; font-style: italic"></span><span style="color: #008000; font-weight: bold">func</span> <span style="color: #0000ff">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #b00040">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #008000; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #008000; font-weight: bold">chan</span> <span style="color: #b00040">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #008000; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #666666">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #666666">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #008000; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #666666">==</span> <span style="color: #ba2121">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span style="color: #666666">--</span>
        <span class="p">}</span> <span style="color: #008000; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #ba2121">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #0000ff">Sleep</span><span class="p">(</span><span style="color: #666666">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #666666">&lt;-</span> <span style="color: #008000; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span style="color: #666666">&lt;-</span> <span style="color: #ba2121">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #408080; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #408080; font-style: italic"></span><span style="color: #008000; font-weight: bold">func</span> <span style="color: #0000ff">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #b00040">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span style="color: #666666">:=</span> <span style="color: #008000">make</span><span class="p">(</span><span style="color: #008000; font-weight: bold">chan</span> <span style="color: #b00040">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span style="color: #666666">:=</span> <span style="color: #008000">make</span><span class="p">(</span><span style="color: #008000; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #008000; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #666666">:=</span> <span style="color: #666666">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #666666">++</span> <span class="p">{</span>
        <span style="color: #008000; font-weight: bold">go</span> <span style="color: #0000ff">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #008000; font-weight: bold">go</span> <span style="color: #0000ff">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #008000; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #666666">==</span> <span style="color: #ba2121">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #008000; font-weight: bold">func</span> <span style="color: #0000ff">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #0000ff">runFarm</span><span class="p">(</span><span style="color: #666666">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='rainbow_dash'><h2><a id='stylelink' href='rainbow_dash.html' alt='View only rainbow_dash'>rainbow_dash</a></h2></a><code><pre style="color: #4d4d4d; background-color: #ffffff" class="chroma">
<span style="color: #2c5dcd; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #2c5dcd; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #00cc66">&#34;fmt&#34;</span>
    <span style="color: #00cc66">&#34;math/rand&#34;</span>
    <span style="color: #00cc66">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #2c5dcd; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #2c5dcd; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #5918bb; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #5918bb; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #2c5dcd; font-weight: bold">chan</span> <span style="color: #5918bb; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #0080ff; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #0080ff; font-style: italic"></span><span style="color: #2c5dcd; font-weight: bold">func</span> <span style="color: #ff8000; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #5918bb; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #2c5dcd; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span style="color: #2c5dcd">:=</span> <span style="color: #5918bb; font-weight: bold">make</span><span class="p">(</span><span style="color: #2c5dcd; font-weight: bold">chan</span> <span style="color: #5918bb; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #2c5dcd; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #2c5dcd; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #2c5dcd; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #2c5dcd">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00cc66">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00cc66">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #2c5dcd">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00cc66">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span style="color: #2c5dcd">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00cc66">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #2c5dcd; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00cc66">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #2c5dcd; font-weight: bold">return</span>
        <span style="color: #2c5dcd; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00cc66">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #5918bb; font-weight: bold">1000</span><span class="p">))</span> <span style="color: #2c5dcd">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #0080ff; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #0080ff; font-style: italic"></span><span style="color: #2c5dcd; font-weight: bold">func</span> <span style="color: #ff8000; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #5918bb; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #2c5dcd; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #2c5dcd; font-weight: bold">chan</span> <span style="color: #5918bb; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #2c5dcd; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #2c5dcd">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #5918bb; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span style="color: #2c5dcd">:=</span> <span style="color: #2c5dcd">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #2c5dcd; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #2c5dcd">==</span> <span style="color: #00cc66">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span style="color: #2c5dcd">--</span>
        <span class="p">}</span> <span style="color: #2c5dcd; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #00cc66">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #5918bb; font-weight: bold">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #2c5dcd">&lt;-</span> <span style="color: #2c5dcd; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span style="color: #2c5dcd">&lt;-</span> <span style="color: #00cc66">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #0080ff; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #0080ff; font-style: italic"></span><span style="color: #2c5dcd; font-weight: bold">func</span> <span style="color: #ff8000; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #5918bb; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span style="color: #2c5dcd">:=</span> <span style="color: #5918bb; font-weight: bold">make</span><span class="p">(</span><span style="color: #2c5dcd; font-weight: bold">chan</span> <span style="color: #5918bb; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span style="color: #2c5dcd">:=</span> <span style="color: #5918bb; font-weight: bold">make</span><span class="p">(</span><span style="color: #2c5dcd; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #2c5dcd; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #2c5dcd">:=</span> <span style="color: #5918bb; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #2c5dcd">++</span> <span class="p">{</span>
        <span style="color: #2c5dcd; font-weight: bold">go</span> <span style="color: #ff8000; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #2c5dcd; font-weight: bold">go</span> <span style="color: #ff8000; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span style="color: #2c5dcd">:=</span> <span style="color: #2c5dcd">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #2c5dcd; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #2c5dcd">==</span> <span style="color: #00cc66">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #2c5dcd; font-weight: bold">func</span> <span style="color: #ff8000; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #ff8000; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #5918bb; font-weight: bold">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='rrt'><h2><a id='stylelink' href='rrt.html' alt='View only rrt'>rrt</a></h2></a><code><pre style="color: #f8f8f2; background-color: #000000" class="chroma">
<span style="color: #ff0000">package</span> <span class="nx">main</span>

<span style="color: #ff0000">import</span> <span class="p">(</span>
    <span style="color: #87ceeb">&#34;fmt&#34;</span>
    <span style="color: #87ceeb">&#34;math/rand&#34;</span>
    <span style="color: #87ceeb">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #ff0000">type</span> <span class="nx">Moo</span> <span style="color: #ff0000">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #ee82ee">int</span>
    <span class="nx">Sound</span> <span style="color: #ee82ee">string</span>
    <span class="nx">Tube</span>  <span style="color: #ff0000">chan</span> <span style="color: #ee82ee">bool</span>
<span class="p">}</span>

<span style="color: #00ff00">// A cow will moo until it is being fed
</span><span style="color: #00ff00"></span><span style="color: #ff0000">func</span> <span style="color: #ffff00">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #ee82ee">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ff0000">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #ff0000">chan</span> <span style="color: #ee82ee">bool</span><span class="p">)</span>
    <span style="color: #ff0000">for</span> <span class="p">{</span>
        <span style="color: #ff0000">select</span> <span class="p">{</span>
        <span style="color: #ff0000">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #87ceeb">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #87ceeb">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #87ceeb">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #87ceeb">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #ff0000">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #87ceeb">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #ff0000">return</span>
        <span style="color: #ff0000">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #87ceeb">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #ffff00">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #ffff00">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #ffff00">Int31n</span><span class="p">(</span><span style="color: #ff6600">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #00ff00">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #00ff00"></span><span style="color: #ff0000">func</span> <span style="color: #ffff00">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #ee82ee">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ff0000">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #ff0000">chan</span> <span style="color: #ee82ee">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #ff0000">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #ff6600">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #ff0000">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #87ceeb">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #ff0000">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #87ceeb">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #ffff00">Sleep</span><span class="p">(</span><span style="color: #ff6600">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #ff0000">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #87ceeb">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #00ff00">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #00ff00"></span><span style="color: #ff0000">func</span> <span style="color: #ffff00">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #ee82ee">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #ff0000">chan</span> <span style="color: #ee82ee">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #ff0000">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #ff0000">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #ff6600">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #ff0000">go</span> <span style="color: #ffff00">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #ff0000">go</span> <span style="color: #ffff00">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #ff0000">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #87ceeb">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #ff0000">func</span> <span style="color: #ffff00">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #ffff00">runFarm</span><span class="p">(</span><span style="color: #ff6600">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='solarized-dark'><h2><a id='stylelink' href='solarized-dark.html' alt='View only solarized-dark'>solarized-dark</a></h2></a><code><pre style="color: #93a1a1; background-color: #002b36" class="chroma">
<span style="color: #719e07">package</span> <span class="nx">main</span>

<span style="color: #719e07">import</span> <span class="p">(</span>
    <span style="color: #2aa198">&#34;fmt&#34;</span>
    <span style="color: #2aa198">&#34;math/rand&#34;</span>
    <span style="color: #2aa198">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #268bd2">type</span> <span class="nx">Moo</span> <span style="color: #268bd2">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #dc322f">int</span>
    <span class="nx">Sound</span> <span style="color: #dc322f">string</span>
    <span class="nx">Tube</span>  <span style="color: #268bd2">chan</span> <span style="color: #dc322f">bool</span>
<span class="p">}</span>

<span style="color: #586e75">// A cow will moo until it is being fed
</span><span style="color: #586e75"></span><span style="color: #268bd2">func</span> <span style="color: #268bd2">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #dc322f">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #268bd2">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span style="color: #719e07">:=</span> <span style="color: #b58900">make</span><span class="p">(</span><span style="color: #268bd2">chan</span> <span style="color: #dc322f">bool</span><span class="p">)</span>
    <span style="color: #719e07">for</span> <span class="p">{</span>
        <span style="color: #719e07">select</span> <span class="p">{</span>
        <span style="color: #719e07">case</span> <span class="nx">mootube</span> <span style="color: #719e07">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #719e07">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span style="color: #719e07">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #cb4b16">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #719e07">return</span>
        <span style="color: #719e07">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #268bd2">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #268bd2">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #268bd2">Int31n</span><span class="p">(</span><span style="color: #2aa198">1000</span><span class="p">))</span> <span style="color: #719e07">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #586e75">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #586e75"></span><span style="color: #268bd2">func</span> <span style="color: #268bd2">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #dc322f">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #268bd2">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #268bd2">chan</span> <span style="color: #dc322f">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #719e07">for</span> <span class="nx">hungryCows</span> <span style="color: #719e07">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #2aa198">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span style="color: #719e07">:=</span> <span style="color: #719e07">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #719e07">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #719e07">==</span> <span style="color: #2aa198">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span style="color: #719e07">--</span>
        <span class="p">}</span> <span style="color: #719e07">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #2aa198">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #268bd2">Sleep</span><span class="p">(</span><span style="color: #2aa198">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #719e07">&lt;-</span> <span style="color: #cb4b16">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span style="color: #719e07">&lt;-</span> <span style="color: #2aa198">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #586e75">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #586e75"></span><span style="color: #268bd2">func</span> <span style="color: #268bd2">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #dc322f">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span style="color: #719e07">:=</span> <span style="color: #b58900">make</span><span class="p">(</span><span style="color: #268bd2">chan</span> <span style="color: #dc322f">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span style="color: #719e07">:=</span> <span style="color: #b58900">make</span><span class="p">(</span><span style="color: #268bd2">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #719e07">for</span> <span class="nx">cownum</span> <span style="color: #719e07">:=</span> <span style="color: #2aa198">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #719e07">++</span> <span class="p">{</span>
        <span style="color: #719e07">go</span> <span style="color: #268bd2">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #719e07">go</span> <span style="color: #268bd2">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span style="color: #719e07">:=</span> <span style="color: #719e07">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #719e07">if</span> <span class="nx">farmerSaid</span> <span style="color: #719e07">==</span> <span style="color: #2aa198">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #268bd2">func</span> <span style="color: #268bd2">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #268bd2">runFarm</span><span class="p">(</span><span style="color: #2aa198">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='solarized-dark256'><h2><a id='stylelink' href='solarized-dark256.html' alt='View only solarized-dark256'>solarized-dark256</a></h2></a><code><pre style="color: #8a8a8a; background-color: #1c1c1c" class="chroma">
<span style="color: #d75f00">package</span> <span class="nx">main</span>

<span style="color: #d75f00">import</span> <span class="p">(</span>
    <span style="color: #00afaf">&#34;fmt&#34;</span>
    <span style="color: #00afaf">&#34;math/rand&#34;</span>
    <span style="color: #00afaf">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #0087ff">type</span> <span class="nx">Moo</span> <span style="color: #0087ff">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #af0000">int</span>
    <span class="nx">Sound</span> <span style="color: #af0000">string</span>
    <span class="nx">Tube</span>  <span style="color: #0087ff">chan</span> <span style="color: #af0000">bool</span>
<span class="p">}</span>

<span style="color: #4e4e4e">// A cow will moo until it is being fed
</span><span style="color: #4e4e4e"></span><span style="color: #0087ff">func</span> <span style="color: #0087ff">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #af0000">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0087ff">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #0087ff">make</span><span class="p">(</span><span style="color: #0087ff">chan</span> <span style="color: #af0000">bool</span><span class="p">)</span>
    <span style="color: #5f8700">for</span> <span class="p">{</span>
        <span style="color: #5f8700">select</span> <span class="p">{</span>
        <span style="color: #5f8700">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00afaf">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00afaf">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00afaf">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00afaf">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #d75f00">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00afaf">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #5f8700">return</span>
        <span style="color: #5f8700">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00afaf">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #0087ff">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #0087ff">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #0087ff">Int31n</span><span class="p">(</span><span style="color: #00afaf">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #4e4e4e">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #4e4e4e"></span><span style="color: #0087ff">func</span> <span style="color: #0087ff">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #af0000">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0087ff">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #0087ff">chan</span> <span style="color: #af0000">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #5f8700">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #00afaf">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #5f8700">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #00afaf">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #5f8700">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #00afaf">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #0087ff">Sleep</span><span class="p">(</span><span style="color: #00afaf">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #d75f00">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #00afaf">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #4e4e4e">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #4e4e4e"></span><span style="color: #0087ff">func</span> <span style="color: #0087ff">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #af0000">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #0087ff">make</span><span class="p">(</span><span style="color: #0087ff">chan</span> <span style="color: #af0000">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #0087ff">make</span><span class="p">(</span><span style="color: #0087ff">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #5f8700">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #00afaf">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #5f8700">go</span> <span style="color: #0087ff">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #5f8700">go</span> <span style="color: #0087ff">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #5f8700">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #00afaf">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #0087ff">func</span> <span style="color: #0087ff">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #0087ff">runFarm</span><span class="p">(</span><span style="color: #00afaf">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='solarized-light'><h2><a id='stylelink' href='solarized-light.html' alt='View only solarized-light'>solarized-light</a></h2></a><code><pre style="color: #586e75; background-color: #eee8d5" class="chroma">
<span style="color: #dc322f; font-weight: bold">package</span> <span style="color: #268bd2">main</span>

<span style="color: #dc322f; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #2aa198">&#34;fmt&#34;</span>
    <span style="color: #2aa198">&#34;math/rand&#34;</span>
    <span style="color: #2aa198">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #859900">type</span> <span style="color: #268bd2">Moo</span> <span style="color: #859900">struct</span> <span class="p">{</span>
    <span style="color: #268bd2">Cow</span>   <span style="color: #859900; font-weight: bold">int</span>
    <span style="color: #268bd2">Sound</span> <span style="color: #859900; font-weight: bold">string</span>
    <span style="color: #268bd2">Tube</span>  <span style="color: #859900">chan</span> <span style="color: #859900; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #93a1a1; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #93a1a1; font-style: italic"></span><span style="color: #859900">func</span> <span style="color: #268bd2">cow</span><span class="p">(</span><span style="color: #268bd2">num</span> <span style="color: #859900; font-weight: bold">int</span><span class="p">,</span> <span style="color: #268bd2">mootube</span> <span style="color: #859900">chan</span> <span style="color: #268bd2">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #268bd2">tube</span> <span class="o">:=</span> <span style="color: #cb4b16">make</span><span class="p">(</span><span style="color: #859900">chan</span> <span style="color: #859900; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #859900">for</span> <span class="p">{</span>
        <span style="color: #859900">select</span> <span class="p">{</span>
        <span style="color: #859900">case</span> <span style="color: #268bd2">mootube</span> <span class="o">&lt;-</span> <span style="color: #268bd2">Moo</span><span class="p">{</span><span style="color: #268bd2">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #268bd2">tube</span><span class="p">}:</span>
            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span style="color: #268bd2">tube</span>
            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span style="color: #268bd2">mootube</span> <span class="o">&lt;-</span> <span style="color: #268bd2">Moo</span><span class="p">{</span><span style="color: #268bd2">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #859900; font-weight: bold">nil</span><span class="p">}</span>
            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #859900">return</span>
        <span style="color: #859900">default</span><span class="p">:</span>
            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span style="color: #268bd2">time</span><span class="p">.</span><span style="color: #268bd2">Sleep</span><span class="p">(</span><span style="color: #268bd2">time</span><span class="p">.</span><span style="color: #268bd2">Duration</span><span class="p">(</span><span style="color: #268bd2">rand</span><span class="p">.</span><span style="color: #268bd2">Int31n</span><span class="p">(</span><span style="color: #2aa198; font-weight: bold">1000</span><span class="p">))</span> <span class="o">*</span> <span style="color: #268bd2">time</span><span class="p">.</span><span style="color: #268bd2">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #93a1a1; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #93a1a1; font-style: italic"></span><span style="color: #859900">func</span> <span style="color: #268bd2">farmer</span><span class="p">(</span><span style="color: #268bd2">numcows</span> <span style="color: #859900; font-weight: bold">int</span><span class="p">,</span> <span style="color: #268bd2">mootube</span> <span style="color: #859900">chan</span> <span style="color: #268bd2">Moo</span><span class="p">,</span> <span style="color: #268bd2">farmertube</span> <span style="color: #859900">chan</span> <span style="color: #859900; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #859900">for</span> <span style="color: #268bd2">hungryCows</span> <span class="o">:=</span> <span style="color: #268bd2">numcows</span><span class="p">;</span> <span style="color: #268bd2">hungryCows</span> <span class="p">&gt;</span> <span style="color: #2aa198; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
        <span style="color: #268bd2">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span style="color: #268bd2">mootube</span>
        <span style="color: #859900">if</span> <span style="color: #268bd2">moo</span><span class="p">.</span><span style="color: #268bd2">Sound</span> <span class="o">==</span> <span style="color: #2aa198">&#34;mooh&#34;</span> <span class="p">{</span>
            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">moo</span><span class="p">.</span><span style="color: #268bd2">Cow</span><span class="p">)</span>
            <span style="color: #268bd2">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #859900">else</span> <span class="p">{</span>
            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #268bd2">moo</span><span class="p">.</span><span style="color: #268bd2">Sound</span><span class="p">,</span> <span style="color: #2aa198">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">moo</span><span class="p">.</span><span style="color: #268bd2">Cow</span><span class="p">)</span>
            <span style="color: #268bd2">time</span><span class="p">.</span><span style="color: #268bd2">Sleep</span><span class="p">(</span><span style="color: #2aa198; font-weight: bold">2e9</span><span class="p">)</span>
            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">moo</span><span class="p">.</span><span style="color: #268bd2">Cow</span><span class="p">)</span>
            <span style="color: #268bd2">moo</span><span class="p">.</span><span style="color: #268bd2">Tube</span> <span class="o">&lt;-</span> <span style="color: #859900; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span style="color: #268bd2">farmertube</span> <span class="o">&lt;-</span> <span style="color: #2aa198">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #93a1a1; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #93a1a1; font-style: italic"></span><span style="color: #859900">func</span> <span style="color: #268bd2">runFarm</span><span class="p">(</span><span style="color: #268bd2">numcows</span> <span style="color: #859900; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #268bd2">farmertube</span> <span class="o">:=</span> <span style="color: #cb4b16">make</span><span class="p">(</span><span style="color: #859900">chan</span> <span style="color: #859900; font-weight: bold">string</span><span class="p">)</span>
    <span style="color: #268bd2">mootube</span> <span class="o">:=</span> <span style="color: #cb4b16">make</span><span class="p">(</span><span style="color: #859900">chan</span> <span style="color: #268bd2">Moo</span><span class="p">)</span>
    <span style="color: #859900">for</span> <span style="color: #268bd2">cownum</span> <span class="o">:=</span> <span style="color: #2aa198; font-weight: bold">0</span><span class="p">;</span> <span style="color: #268bd2">cownum</span> <span class="p">&lt;</span> <span style="color: #268bd2">numcows</span><span class="p">;</span> <span style="color: #268bd2">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #859900">go</span> <span style="color: #268bd2">cow</span><span class="p">(</span><span style="color: #268bd2">cownum</span><span class="p">,</span> <span style="color: #268bd2">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #859900">go</span> <span style="color: #268bd2">farmer</span><span class="p">(</span><span style="color: #268bd2">numcows</span><span class="p">,</span> <span style="color: #268bd2">mootube</span><span class="p">,</span> <span style="color: #268bd2">farmertube</span><span class="p">)</span>
    <span style="color: #268bd2">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span style="color: #268bd2">farmertube</span>
    <span style="color: #859900">if</span> <span style="color: #268bd2">farmerSaid</span> <span class="o">==</span> <span style="color: #2aa198">&#34;yey!&#34;</span> <span class="p">{</span>
        <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #859900">func</span> <span style="color: #268bd2">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #268bd2">runFarm</span><span class="p">(</span><span style="color: #2aa198; font-weight: bold">4</span><span class="p">)</span>
    <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='swapoff'><h2><a id='stylelink' href='swapoff.html' alt='View only swapoff'>swapoff</a></h2></a><code><pre style="color: #e5e5e5; background-color: #000000" class="chroma">
<span style="color: #ffffff; font-weight: bold">package</span> <span class="nx">main</span>

<span style="color: #ffffff; font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #00ffff; font-weight: bold">&#34;fmt&#34;</span>
    <span style="color: #00ffff; font-weight: bold">&#34;math/rand&#34;</span>
    <span style="color: #00ffff; font-weight: bold">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #ffffff; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #ffffff; font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #ffffff; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #ffffff; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="color: #ffffff; font-weight: bold">chan</span> <span style="color: #ffffff; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #007f7f">// A cow will moo until it is being fed
</span><span style="color: #007f7f"></span><span style="color: #ffffff; font-weight: bold">func</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #ffffff; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ffffff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #ffffff; font-weight: bold">make</span><span class="p">(</span><span style="color: #ffffff; font-weight: bold">chan</span> <span style="color: #ffffff; font-weight: bold">bool</span><span class="p">)</span>
    <span style="color: #ffffff; font-weight: bold">for</span> <span class="p">{</span>
        <span style="color: #ffffff; font-weight: bold">select</span> <span class="p">{</span>
        <span style="color: #ffffff; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #ffffff; font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #ffffff; font-weight: bold">return</span>
        <span style="color: #ffffff; font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Int31n</span><span class="p">(</span><span style="color: #ffff00; font-weight: bold">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #007f7f">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #007f7f"></span><span style="color: #ffffff; font-weight: bold">func</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #ffffff; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ffffff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #ffffff; font-weight: bold">chan</span> <span style="color: #ffffff; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #ffffff; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #ffff00; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #ffffff; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #00ffff; font-weight: bold">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #ffffff; font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span style="color: #ffff00; font-weight: bold">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #ffffff; font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #00ffff; font-weight: bold">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #007f7f">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #007f7f"></span><span style="color: #ffffff; font-weight: bold">func</span> <span class="nf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #ffffff; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #ffffff; font-weight: bold">make</span><span class="p">(</span><span style="color: #ffffff; font-weight: bold">chan</span> <span style="color: #ffffff; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #ffffff; font-weight: bold">make</span><span class="p">(</span><span style="color: #ffffff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #ffffff; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #ffff00; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #ffffff; font-weight: bold">go</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #ffffff; font-weight: bold">go</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #ffffff; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #00ffff; font-weight: bold">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #ffffff; font-weight: bold">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">runFarm</span><span class="p">(</span><span style="color: #ffff00; font-weight: bold">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='tango'><h2><a id='stylelink' href='tango.html' alt='View only tango'>tango</a></h2></a><code><pre style="background-color: #f8f8f8" class="chroma">
<span style="color: #204a87; font-weight: bold">package</span> <span style="color: #000000">main</span>

<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000; font-weight: bold">(</span>
    <span style="color: #4e9a06">&#34;fmt&#34;</span>
    <span style="color: #4e9a06">&#34;math/rand&#34;</span>
    <span style="color: #4e9a06">&#34;time&#34;</span>
<span style="color: #000000; font-weight: bold">)</span>

<span style="color: #204a87; font-weight: bold">type</span> <span style="color: #000000">Moo</span> <span style="color: #204a87; font-weight: bold">struct</span> <span style="color: #000000; font-weight: bold">{</span>
    <span style="color: #000000">Cow</span>   <span style="color: #204a87; font-weight: bold">int</span>
    <span style="color: #000000">Sound</span> <span style="color: #204a87; font-weight: bold">string</span>
    <span style="color: #000000">Tube</span>  <span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #204a87; font-weight: bold">bool</span>
<span style="color: #000000; font-weight: bold">}</span>

<span style="color: #8f5902; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #8f5902; font-style: italic"></span><span style="color: #204a87; font-weight: bold">func</span> <span style="color: #000000">cow</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">num</span> <span style="color: #204a87; font-weight: bold">int</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">mootube</span> <span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #000000">Moo</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #000000; font-weight: bold">{</span>
    <span style="color: #000000">tube</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #204a87">make</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #204a87; font-weight: bold">bool</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #204a87; font-weight: bold">for</span> <span style="color: #000000; font-weight: bold">{</span>
        <span style="color: #204a87; font-weight: bold">select</span> <span style="color: #000000; font-weight: bold">{</span>
        <span style="color: #204a87; font-weight: bold">case</span> <span style="color: #000000">mootube</span> <span style="color: #ce5c00; font-weight: bold">&lt;-</span> <span style="color: #000000">Moo</span><span style="color: #000000; font-weight: bold">{</span><span style="color: #000000">num</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;moo&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">tube</span><span style="color: #000000; font-weight: bold">}:</span>
            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">num</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;mooed through the mootube&#34;</span><span style="color: #000000; font-weight: bold">)</span>
            <span style="color: #ce5c00; font-weight: bold">&lt;-</span><span style="color: #000000">tube</span>
            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">num</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;is being fed and stops mooing&#34;</span><span style="color: #000000; font-weight: bold">)</span>
            <span style="color: #000000">mootube</span> <span style="color: #ce5c00; font-weight: bold">&lt;-</span> <span style="color: #000000">Moo</span><span style="color: #000000; font-weight: bold">{</span><span style="color: #000000">num</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;mooh&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #204a87; font-weight: bold">nil</span><span style="color: #000000; font-weight: bold">}</span>
            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">num</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;moos one last time out of happyness&#34;</span><span style="color: #000000; font-weight: bold">)</span>
            <span style="color: #204a87; font-weight: bold">return</span>
        <span style="color: #204a87; font-weight: bold">default</span><span style="color: #000000; font-weight: bold">:</span>
            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">num</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #000000; font-weight: bold">)</span>
            <span style="color: #000000">time</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Sleep</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">time</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Duration</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">rand</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Int31n</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #0000cf; font-weight: bold">1000</span><span style="color: #000000; font-weight: bold">))</span> <span style="color: #ce5c00; font-weight: bold">*</span> <span style="color: #000000">time</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Millisecond</span><span style="color: #000000; font-weight: bold">)</span>
        <span style="color: #000000; font-weight: bold">}</span>
    <span style="color: #000000; font-weight: bold">}</span>
<span style="color: #000000; font-weight: bold">}</span>

<span style="color: #8f5902; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #8f5902; font-style: italic"></span><span style="color: #204a87; font-weight: bold">func</span> <span style="color: #000000">farmer</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">numcows</span> <span style="color: #204a87; font-weight: bold">int</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">mootube</span> <span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #000000">Moo</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">farmertube</span> <span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #204a87; font-weight: bold">string</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #000000; font-weight: bold">{</span>
    <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #204a87; font-weight: bold">for</span> <span style="color: #000000">hungryCows</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #000000">numcows</span><span style="color: #000000; font-weight: bold">;</span> <span style="color: #000000">hungryCows</span> <span style="color: #000000; font-weight: bold">&gt;</span> <span style="color: #0000cf; font-weight: bold">0</span><span style="color: #000000; font-weight: bold">;</span> <span style="color: #000000; font-weight: bold">{</span>
        <span style="color: #000000">moo</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #ce5c00; font-weight: bold">&lt;-</span><span style="color: #000000">mootube</span>
        <span style="color: #204a87; font-weight: bold">if</span> <span style="color: #000000">moo</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Sound</span> <span style="color: #ce5c00; font-weight: bold">==</span> <span style="color: #4e9a06">&#34;mooh&#34;</span> <span style="color: #000000; font-weight: bold">{</span>
            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">moo</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Cow</span><span style="color: #000000; font-weight: bold">)</span>
            <span style="color: #000000">hungryCows</span><span style="color: #ce5c00; font-weight: bold">--</span>
        <span style="color: #000000; font-weight: bold">}</span> <span style="color: #204a87; font-weight: bold">else</span> <span style="color: #000000; font-weight: bold">{</span>
            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Farmer heard a&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">moo</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Sound</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;from cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">moo</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Cow</span><span style="color: #000000; font-weight: bold">)</span>
            <span style="color: #000000">time</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Sleep</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #0000cf; font-weight: bold">2e9</span><span style="color: #000000; font-weight: bold">)</span>
            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">moo</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Cow</span><span style="color: #000000; font-weight: bold">)</span>
            <span style="color: #000000">moo</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Tube</span> <span style="color: #ce5c00; font-weight: bold">&lt;-</span> <span style="color: #204a87; font-weight: bold">true</span>
        <span style="color: #000000; font-weight: bold">}</span>
    <span style="color: #000000; font-weight: bold">}</span>
    <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #000000">farmertube</span> <span style="color: #ce5c00; font-weight: bold">&lt;-</span> <span style="color: #4e9a06">&#34;yey!&#34;</span>
<span style="color: #000000; font-weight: bold">}</span>

<span style="color: #8f5902; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #8f5902; font-style: italic"></span><span style="color: #204a87; font-weight: bold">func</span> <span style="color: #000000">runFarm</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">numcows</span> <span style="color: #204a87; font-weight: bold">int</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #000000; font-weight: bold">{</span>
    <span style="color: #000000">farmertube</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #204a87">make</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #204a87; font-weight: bold">string</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #000000">mootube</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #204a87">make</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #000000">Moo</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #204a87; font-weight: bold">for</span> <span style="color: #000000">cownum</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #0000cf; font-weight: bold">0</span><span style="color: #000000; font-weight: bold">;</span> <span style="color: #000000">cownum</span> <span style="color: #000000; font-weight: bold">&lt;</span> <span style="color: #000000">numcows</span><span style="color: #000000; font-weight: bold">;</span> <span style="color: #000000">cownum</span><span style="color: #ce5c00; font-weight: bold">++</span> <span style="color: #000000; font-weight: bold">{</span>
        <span style="color: #204a87; font-weight: bold">go</span> <span style="color: #000000">cow</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">cownum</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">mootube</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #000000; font-weight: bold">}</span>
    <span style="color: #204a87; font-weight: bold">go</span> <span style="color: #000000">farmer</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">numcows</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">mootube</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">farmertube</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #000000">farmerSaid</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #ce5c00; font-weight: bold">&lt;-</span><span style="color: #000000">farmertube</span>
    <span style="color: #204a87; font-weight: bold">if</span> <span style="color: #000000">farmerSaid</span> <span style="color: #ce5c00; font-weight: bold">==</span> <span style="color: #4e9a06">&#34;yey!&#34;</span> <span style="color: #000000; font-weight: bold">{</span>
        <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;All cows are happy.&#34;</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #000000; font-weight: bold">}</span>
<span style="color: #000000; font-weight: bold">}</span>

<span style="color: #204a87; font-weight: bold">func</span> <span style="color: #000000">main</span><span style="color: #000000; font-weight: bold">()</span> <span style="color: #000000; font-weight: bold">{</span>
    <span style="color: #000000">runFarm</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #0000cf; font-weight: bold">4</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;done&#34;</span><span style="color: #000000; font-weight: bold">)</span>
<span style="color: #000000; font-weight: bold">}</span>
</pre></code><a name='trac'><h2><a id='stylelink' href='trac.html' alt='View only trac'>trac</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="font-weight: bold">package</span> <span class="nx">main</span>

<span style="font-weight: bold">import</span> <span class="p">(</span>
    <span style="color: #bb8844">&#34;fmt&#34;</span>
    <span style="color: #bb8844">&#34;math/rand&#34;</span>
    <span style="color: #bb8844">&#34;time&#34;</span>
<span class="p">)</span>

<span style="font-weight: bold">type</span> <span class="nx">Moo</span> <span style="font-weight: bold">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #445588; font-weight: bold">int</span>
    <span class="nx">Sound</span> <span style="color: #445588; font-weight: bold">string</span>
    <span class="nx">Tube</span>  <span style="font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">bool</span>
<span class="p">}</span>

<span style="color: #999988; font-style: italic">// A cow will moo until it is being fed
</span><span style="color: #999988; font-style: italic"></span><span style="font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #445588; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span style="font-weight: bold">:=</span> <span style="color: #999999">make</span><span class="p">(</span><span style="font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">bool</span><span class="p">)</span>
    <span style="font-weight: bold">for</span> <span class="p">{</span>
        <span style="font-weight: bold">select</span> <span class="p">{</span>
        <span style="font-weight: bold">case</span> <span class="nx">mootube</span> <span style="font-weight: bold">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #bb8844">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb8844">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="font-weight: bold">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb8844">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span style="font-weight: bold">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #bb8844">&#34;mooh&#34;</span><span class="p">,</span> <span style="font-weight: bold">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb8844">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="font-weight: bold">return</span>
        <span style="font-weight: bold">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb8844">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #009999">1000</span><span class="p">))</span> <span style="font-weight: bold">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #999988; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #999988; font-style: italic"></span><span style="font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #445588; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="font-weight: bold">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #009999">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span style="font-weight: bold">:=</span> <span style="font-weight: bold">&lt;-</span><span class="nx">mootube</span>
        <span style="font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="font-weight: bold">==</span> <span style="color: #bb8844">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span style="font-weight: bold">--</span>
        <span class="p">}</span> <span style="font-weight: bold">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #bb8844">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #009999">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="font-weight: bold">&lt;-</span> <span style="font-weight: bold">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span style="font-weight: bold">&lt;-</span> <span style="color: #bb8844">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #999988; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #999988; font-style: italic"></span><span style="font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #445588; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span style="font-weight: bold">:=</span> <span style="color: #999999">make</span><span class="p">(</span><span style="font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span style="font-weight: bold">:=</span> <span style="color: #999999">make</span><span class="p">(</span><span style="font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="font-weight: bold">for</span> <span class="nx">cownum</span> <span style="font-weight: bold">:=</span> <span style="color: #009999">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="font-weight: bold">++</span> <span class="p">{</span>
        <span style="font-weight: bold">go</span> <span style="color: #990000; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="font-weight: bold">go</span> <span style="color: #990000; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span style="font-weight: bold">:=</span> <span style="font-weight: bold">&lt;-</span><span class="nx">farmertube</span>
    <span style="font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="font-weight: bold">==</span> <span style="color: #bb8844">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #990000; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #009999">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='vim'><h2><a id='stylelink' href='vim.html' alt='View only vim'>vim</a></h2></a><code><pre style="color: #cccccc; background-color: #000000" class="chroma">
<span style="color: #cd00cd">package</span> <span class="nx">main</span>

<span style="color: #cd00cd">import</span> <span class="p">(</span>
    <span style="color: #cd0000">&#34;fmt&#34;</span>
    <span style="color: #cd0000">&#34;math/rand&#34;</span>
    <span style="color: #cd0000">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #00cd00">type</span> <span class="nx">Moo</span> <span style="color: #00cd00">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #00cd00">int</span>
    <span class="nx">Sound</span> <span style="color: #00cd00">string</span>
    <span class="nx">Tube</span>  <span style="color: #00cd00">chan</span> <span style="color: #00cd00">bool</span>
<span class="p">}</span>

<span style="color: #000080">// A cow will moo until it is being fed
</span><span style="color: #000080"></span><span style="color: #00cd00">func</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #00cd00">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #00cd00">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span style="color: #3399cc">:=</span> <span style="color: #cd00cd">make</span><span class="p">(</span><span style="color: #00cd00">chan</span> <span style="color: #00cd00">bool</span><span class="p">)</span>
    <span style="color: #cdcd00">for</span> <span class="p">{</span>
        <span style="color: #cdcd00">select</span> <span class="p">{</span>
        <span style="color: #cdcd00">case</span> <span class="nx">mootube</span> <span style="color: #3399cc">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #cd0000">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd0000">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #3399cc">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd0000">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span style="color: #3399cc">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #cd0000">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #cdcd00">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd0000">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #cdcd00">return</span>
        <span style="color: #cdcd00">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd0000">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Int31n</span><span class="p">(</span><span style="color: #cd00cd">1000</span><span class="p">))</span> <span style="color: #3399cc">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #000080">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #000080"></span><span style="color: #00cd00">func</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00cd00">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #00cd00">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #00cd00">chan</span> <span style="color: #00cd00">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #cdcd00">for</span> <span class="nx">hungryCows</span> <span style="color: #3399cc">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #cd00cd">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span style="color: #3399cc">:=</span> <span style="color: #3399cc">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #cdcd00">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #3399cc">==</span> <span style="color: #cd0000">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span style="color: #3399cc">--</span>
        <span class="p">}</span> <span style="color: #cdcd00">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #cd0000">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span style="color: #cd00cd">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #3399cc">&lt;-</span> <span style="color: #cdcd00">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span style="color: #3399cc">&lt;-</span> <span style="color: #cd0000">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #000080">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #000080"></span><span style="color: #00cd00">func</span> <span class="nf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00cd00">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span style="color: #3399cc">:=</span> <span style="color: #cd00cd">make</span><span class="p">(</span><span style="color: #00cd00">chan</span> <span style="color: #00cd00">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span style="color: #3399cc">:=</span> <span style="color: #cd00cd">make</span><span class="p">(</span><span style="color: #00cd00">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #cdcd00">for</span> <span class="nx">cownum</span> <span style="color: #3399cc">:=</span> <span style="color: #cd00cd">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #3399cc">++</span> <span class="p">{</span>
        <span style="color: #cdcd00">go</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #cdcd00">go</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span style="color: #3399cc">:=</span> <span style="color: #3399cc">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #cdcd00">if</span> <span class="nx">farmerSaid</span> <span style="color: #3399cc">==</span> <span style="color: #cd0000">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #00cd00">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">runFarm</span><span class="p">(</span><span style="color: #cd00cd">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='vs'><h2><a id='stylelink' href='vs.html' alt='View only vs'>vs</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="color: #0000ff">package</span> <span class="nx">main</span>

<span style="color: #0000ff">import</span> <span class="p">(</span>
    <span style="color: #a31515">&#34;fmt&#34;</span>
    <span style="color: #a31515">&#34;math/rand&#34;</span>
    <span style="color: #a31515">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #0000ff">type</span> <span class="nx">Moo</span> <span style="color: #0000ff">struct</span> <span class="p">{</span>
    <span class="nx">Cow</span>   <span style="color: #2b91af">int</span>
    <span class="nx">Sound</span> <span style="color: #2b91af">string</span>
    <span class="nx">Tube</span>  <span style="color: #0000ff">chan</span> <span style="color: #2b91af">bool</span>
<span class="p">}</span>

<span style="color: #008000">// A cow will moo until it is being fed
</span><span style="color: #008000"></span><span style="color: #0000ff">func</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #2b91af">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0000ff">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #2b91af">bool</span><span class="p">)</span>
    <span style="color: #0000ff">for</span> <span class="p">{</span>
        <span style="color: #0000ff">select</span> <span class="p">{</span>
        <span style="color: #0000ff">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #a31515">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #a31515">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span class="o">&lt;-</span><span class="nx">tube</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #a31515">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #a31515">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #0000ff">nil</span><span class="p">}</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #a31515">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #0000ff">return</span>
        <span style="color: #0000ff">default</span><span class="p">:</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #a31515">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Int31n</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #008000">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #008000"></span><span style="color: #0000ff">func</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #2b91af">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0000ff">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #0000ff">chan</span> <span style="color: #2b91af">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #0000ff">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="p">{</span>
        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
        <span style="color: #0000ff">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #a31515">&#34;mooh&#34;</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">hungryCows</span><span class="o">--</span>
        <span class="p">}</span> <span style="color: #0000ff">else</span> <span class="p">{</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #a31515">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mf">2e9</span><span class="p">)</span>
            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #0000ff">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #a31515">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #008000">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #008000"></span><span style="color: #0000ff">func</span> <span class="nf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #2b91af">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">farmertube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #2b91af">string</span><span class="p">)</span>
    <span class="nx">mootube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span class="nx">Moo</span><span class="p">)</span>
    <span style="color: #0000ff">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
        <span style="color: #0000ff">go</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #0000ff">go</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
    <span style="color: #0000ff">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #a31515">&#34;yey!&#34;</span> <span class="p">{</span>
        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #0000ff">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">runFarm</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><a name='xcode'><h2><a id='stylelink' href='xcode.html' alt='View only xcode'>xcode</a></h2></a><code><pre style="background-color: #ffffff" class="chroma">
<span style="color: #a90d91">package</span> <span style="color: #000000">main</span>

<span style="color: #a90d91">import</span> <span class="p">(</span>
    <span style="color: #c41a16">&#34;fmt&#34;</span>
    <span style="color: #c41a16">&#34;math/rand&#34;</span>
    <span style="color: #c41a16">&#34;time&#34;</span>
<span class="p">)</span>

<span style="color: #a90d91">type</span> <span style="color: #000000">Moo</span> <span style="color: #a90d91">struct</span> <span class="p">{</span>
    <span style="color: #000000">Cow</span>   <span style="color: #a90d91">int</span>
    <span style="color: #000000">Sound</span> <span style="color: #a90d91">string</span>
    <span style="color: #000000">Tube</span>  <span style="color: #a90d91">chan</span> <span style="color: #a90d91">bool</span>
<span class="p">}</span>

<span style="color: #177500">// A cow will moo until it is being fed
</span><span style="color: #177500"></span><span style="color: #a90d91">func</span> <span style="color: #000000">cow</span><span class="p">(</span><span style="color: #000000">num</span> <span style="color: #a90d91">int</span><span class="p">,</span> <span style="color: #000000">mootube</span> <span style="color: #a90d91">chan</span> <span style="color: #000000">Moo</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #000000">tube</span> <span style="color: #000000">:=</span> <span style="color: #a90d91">make</span><span class="p">(</span><span style="color: #a90d91">chan</span> <span style="color: #a90d91">bool</span><span class="p">)</span>
    <span style="color: #a90d91">for</span> <span class="p">{</span>
        <span style="color: #a90d91">select</span> <span class="p">{</span>
        <span style="color: #a90d91">case</span> <span style="color: #000000">mootube</span> <span style="color: #000000">&lt;-</span> <span style="color: #000000">Moo</span><span class="p">{</span><span style="color: #000000">num</span><span class="p">,</span> <span style="color: #c41a16">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #000000">tube</span><span class="p">}:</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #c41a16">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
            <span style="color: #000000">&lt;-</span><span style="color: #000000">tube</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #c41a16">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
            <span style="color: #000000">mootube</span> <span style="color: #000000">&lt;-</span> <span style="color: #000000">Moo</span><span class="p">{</span><span style="color: #000000">num</span><span class="p">,</span> <span style="color: #c41a16">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #a90d91">nil</span><span class="p">}</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #c41a16">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
            <span style="color: #a90d91">return</span>
        <span style="color: #a90d91">default</span><span class="p">:</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #c41a16">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
            <span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Sleep</span><span class="p">(</span><span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Duration</span><span class="p">(</span><span style="color: #000000">rand</span><span class="p">.</span><span style="color: #000000">Int31n</span><span class="p">(</span><span style="color: #1c01ce">1000</span><span class="p">))</span> <span style="color: #000000">*</span> <span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Millisecond</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #177500">// The farmer wants to put food in all the mootubes to stop the mooing
</span><span style="color: #177500"></span><span style="color: #a90d91">func</span> <span style="color: #000000">farmer</span><span class="p">(</span><span style="color: #000000">numcows</span> <span style="color: #a90d91">int</span><span class="p">,</span> <span style="color: #000000">mootube</span> <span style="color: #a90d91">chan</span> <span style="color: #000000">Moo</span><span class="p">,</span> <span style="color: #000000">farmertube</span> <span style="color: #a90d91">chan</span> <span style="color: #a90d91">string</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
    <span style="color: #a90d91">for</span> <span style="color: #000000">hungryCows</span> <span style="color: #000000">:=</span> <span style="color: #000000">numcows</span><span class="p">;</span> <span style="color: #000000">hungryCows</span> <span class="p">&gt;</span> <span style="color: #1c01ce">0</span><span class="p">;</span> <span class="p">{</span>
        <span style="color: #000000">moo</span> <span style="color: #000000">:=</span> <span style="color: #000000">&lt;-</span><span style="color: #000000">mootube</span>
        <span style="color: #a90d91">if</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Sound</span> <span style="color: #000000">==</span> <span style="color: #c41a16">&#34;mooh&#34;</span> <span class="p">{</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Cow</span><span class="p">)</span>
            <span style="color: #000000">hungryCows</span><span style="color: #000000">--</span>
        <span class="p">}</span> <span style="color: #a90d91">else</span> <span class="p">{</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Sound</span><span class="p">,</span> <span style="color: #c41a16">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Cow</span><span class="p">)</span>
            <span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Sleep</span><span class="p">(</span><span style="color: #1c01ce">2e9</span><span class="p">)</span>
            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Cow</span><span class="p">)</span>
            <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Tube</span> <span style="color: #000000">&lt;-</span> <span style="color: #a90d91">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
    <span style="color: #000000">farmertube</span> <span style="color: #000000">&lt;-</span> <span style="color: #c41a16">&#34;yey!&#34;</span>
<span class="p">}</span>

<span style="color: #177500">// The farm starts out with mooing cows that wants to be fed
</span><span style="color: #177500"></span><span style="color: #a90d91">func</span> <span style="color: #000000">runFarm</span><span class="p">(</span><span style="color: #000000">numcows</span> <span style="color: #a90d91">int</span><span class="p">)</span> <span class="p">{</span>
    <span style="color: #000000">farmertube</span> <span style="color: #000000">:=</span> <span style="color: #a90d91">make</span><span class="p">(</span><span style="color: #a90d91">chan</span> <span style="color: #a90d91">string</span><span class="p">)</span>
    <span style="color: #000000">mootube</span> <span style="color: #000000">:=</span> <span style="color: #a90d91">make</span><span class="p">(</span><span style="color: #a90d91">chan</span> <span style="color: #000000">Moo</span><span class="p">)</span>
    <span style="color: #a90d91">for</span> <span style="color: #000000">cownum</span> <span style="color: #000000">:=</span> <span style="color: #1c01ce">0</span><span class="p">;</span> <span style="color: #000000">cownum</span> <span class="p">&lt;</span> <span style="color: #000000">numcows</span><span class="p">;</span> <span style="color: #000000">cownum</span><span style="color: #000000">++</span> <span class="p">{</span>
        <span style="color: #a90d91">go</span> <span style="color: #000000">cow</span><span class="p">(</span><span style="color: #000000">cownum</span><span class="p">,</span> <span style="color: #000000">mootube</span><span class="p">)</span>
    <span class="p">}</span>
    <span style="color: #a90d91">go</span> <span style="color: #000000">farmer</span><span class="p">(</span><span style="color: #000000">numcows</span><span class="p">,</span> <span style="color: #000000">mootube</span><span class="p">,</span> <span style="color: #000000">farmertube</span><span class="p">)</span>
    <span style="color: #000000">farmerSaid</span> <span style="color: #000000">:=</span> <span style="color: #000000">&lt;-</span><span style="color: #000000">farmertube</span>
    <span style="color: #a90d91">if</span> <span style="color: #000000">farmerSaid</span> <span style="color: #000000">==</span> <span style="color: #c41a16">&#34;yey!&#34;</span> <span class="p">{</span>
        <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;All cows are happy.&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span style="color: #a90d91">func</span> <span style="color: #000000">main</span><span class="p">()</span> <span class="p">{</span>
    <span style="color: #000000">runFarm</span><span class="p">(</span><span style="color: #1c01ce">4</span><span class="p">)</span>
    <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;done&#34;</span><span class="p">)</span>
<span class="p">}</span>
</pre></code><p><a id='bottom' href='index.html' alt='Back to overview'>Back to overview</a></p><p><a id='bottom' href='../index.html' alt='Go to the other gallery'>Gallery with shorter code samples</a></p><small>Generated 2020-12-01 by <a href="https://github.com/xyproto">xyproto</a> using <a href="https://github.com/xyproto/splash">splash</a>.</small></body></html>